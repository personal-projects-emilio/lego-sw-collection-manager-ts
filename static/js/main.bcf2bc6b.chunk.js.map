{"version":3,"sources":["store/auth/authMiddleware.ts","store/index.ts","components/commons/Header/BurgerMenu/BurgerMenu.tsx","components/commons/Header/BurgerMenu/index.ts","components/commons/Header/TabMenu/TabMenu.tsx","components/commons/Header/TabMenu/index.ts","hooks/store.ts","hooks/usePrevious.ts","hooks/useToggle.ts","appHistory.ts","store/auth/authSlice.ts","store/auth/authSelectors.ts","store/auth/index.ts","components/commons/Header/Header.tsx","components/commons/Header/index.ts","components/commons/Loader/Loader.tsx","components/commons/Loader/index.ts","api.ts","utils/minifigs.ts","utils/array.ts","store/minifigs/minifigsSlice.ts","store/minifigs/minifigsSelectors.ts","store/minifigs/index.ts","components/pages/Minifigs/MinifigsList/MinifigsPagination/MinifigsPagination.tsx","components/pages/Minifigs/MinifigsList/MinifigsPagination/index.ts","components/pages/Minifigs/MinifigsList/MinifigCard/NameAndTags/NameAndTags.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/NameAndTags/index.ts","components/commons/inputs/RadioButtons/RadioButtons.tsx","components/commons/inputs/RadioButtons/index.ts","components/commons/inputs/AutoComplete/AutoComplete.tsx","components/commons/inputs/AutoComplete/index.ts","components/commons/inputs/TextField/index.ts","components/commons/inputs/TextField/TextField.tsx","components/commons/inputs/Switch/index.ts","components/commons/inputs/Switch/Switch.tsx","components/commons/inputs/index.ts","components/commons/inputs/Inputs.tsx","components/commons/Button/Button.tsx","components/commons/Button/index.ts","components/commons/MinifigFormModal/MinifigFormModal.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigEdition/MinifigEdition.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigEdition/index.ts","assets/images/logo/brickset.png","assets/images/logo/bricklink.png","components/commons/LogoLink/LogoLink.tsx","components/commons/LogoLink/index.ts","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigCard.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/index.ts","components/pages/Minifigs/MinifigsList/MinifigsList.tsx","components/pages/Minifigs/MinifigsList/index.ts","components/pages/Minifigs/MinifigsMenu/MinifigsFilters/index.ts","components/pages/Minifigs/MinifigsMenu/MinifigsFilters/MinifigsFilters.tsx","components/pages/Minifigs/MinifigsMenu/MinifigsMisce/index.ts","components/pages/Minifigs/MinifigsMenu/MinifigsMisce/MinifigsMisce.tsx","components/pages/Minifigs/MinifigsMenu/MinifigsMenu.tsx","components/pages/Minifigs/MinifigsMenu/index.ts","components/pages/Minifigs/index.ts","components/pages/Minifigs/Minifigs.tsx","components/pages/Auth/Auth.tsx","components/pages/Auth/index.ts","routes/index.ts","routes/Routes.tsx","App.tsx","reportWebVitals.ts","providers/RouterProvider/index.ts","providers/RouterProvider/RouterProvider.tsx","providers/ThemeProvider/ThemeProvider.tsx","providers/ThemeProvider/index.ts","providers/StoreProvider/index.ts","providers/StoreProvider/StoreProvider.tsx","providers/index.ts","providers/Providers.tsx","index.tsx"],"names":["expireAuthTiemout","preloadedState","useStyles","makeStyles","theme","createStyles","activeLink","color","palette","primary","main","fontWeight","typography","fontWeightBold","BurgerMenu","isAuthenticate","logoutHandler","classes","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","useCallback","handleLogout","IconButton","onClick","event","currentTarget","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","component","NavLink","to","activeClassName","a11yProps","index","TabMenu","pathname","useLocation","Tabs","value","Tab","label","Link","useAppDispatch","useDispatch","useAppSelector","useSelector","usePrevious","ref","useRef","useEffect","current","useToggle","initialValue","setValue","toggle","nextValue","v","history","createBrowserHistory","initialState","token","userId","error","isLoading","authenticate","createAsyncThunk","payload","a","rejectWithValue","ky","post","process","json","returnSecureToken","response","push","console","data","tryAutoSignIn","createAction","authSlice","createSlice","name","reducers","logout","autoSignIn","state","action","extraReducers","builder","addCase","pending","fulfilled","idToken","localId","rejected","actions","selectIsAuthenticate","auth","selectAuthIsLoading","clearAuthLocalStorage","localStorage","removeItem","setAuthTimeout","expirationDateISO","dispatch","setTimeout","Date","getTime","authMiddleware","nextDispatch","match","clearTimeout","getItem","type","isFulfilled","expiresIn","expirationDate","parseInt","toISOString","setItem","authReducer","root","flexGrow","title","Header","useHistory","className","AppBar","position","Toolbar","variant","Typography","Hidden","smDown","mdUp","container","height","Loader","Grid","justifyContent","alignItems","direction","CircularProgress","size","thickness","disableShrink","api","create","prefixUrl","getFilteredMinifigsList","list","filters","filter","minifig","show","characName","tag","possessed","tags","characterName","showFiltered","hasFilterTag","includes","restUpdateMinifigsList","updatedMinifigsList","put","findIndexById","array","idToFind","findIndex","fetchMinifigs","_","get","message","toggleMinifigOwned","minifigId","getState","minifigs","undefined","indexOfMinifig","patch","editMinifig","Array","isArray","map","existingMinifig","addMinifig","concat","sort","b","deleteMinifig","isAPendingAction","isPending","isAFulfilledAction","isARejectedWithValueAction","isRejectedWithValue","minifigsSlice","characNames","pagination","activePage","total","nbPerPage","setMinifigsFilters","updatedFilter","filteredList","length","resetMinifigsFilters","setMinifigsPagination","addMatcher","minifigsList","tagsAndCharacNamesLists","reduce","accumulator","currentMinifig","characNameIndex","el","amount","forEach","tagIndex","getTagsAndCharacNames","selectMinifigsList","selectTagsAndCharacNames","selectMinifigsFilters","selectMinifigsPagination","selectMinifigsIsLoading","selectPaginatedMinifigsList","begin","end","slice","minifigsReducer","spacer","display","flex","toolbar","MinifigsPagination","getLabelDisplayRows","from","count","TablePagination","page","labelRowsPerPage","SelectProps","rowsPerPageOptions","labelDisplayedRows","rowsPerPage","onPageChange","_e","newPage","onRowsPerPageChange","e","newNbPerPage","target","chip","margin","spacing","borderRadius","padding","maxWidth","textOverflow","overflow","whiteSpace","deleteIcon","width","NameAndTags","characNameHandler","tagHandler","Chip","clickable","onDelete","Divider","_theme","textTransform","RadioButtons","forwardRef","options","row","props","FormControl","FormLabel","RadioGroup","option","FormControlLabel","control","Radio","createFilterOptions","AutoComplete","multiple","creatable","placeholder","muiProps","onChange","optionValue","setOptionValue","newValue","added","find","onChangeHandler","Autocomplete","autoHighlight","freeSolo","selectOnFocus","openOnFocus","clearOnBlur","handleHomeEndKeys","filterOptions","params","filtered","inputValue","getOptionSelected","getOptionLabel","renderInput","TextField","InputLabelProps","shrink","Switch","switchElement","checked","labelPlacement","Inputs","passedProps","loader","marginLeft","Button","children","disabled","MinifigFormModal","editMinifigData","useForm","defaultValues","mode","reset","unregister","handleSubmit","isValid","formState","characNamesOptions","useMemo","tagsOptions","minifigsListIds","Dialog","fullWidth","onSubmit","DialogTitle","DialogContent","item","xs","rules","required","pattern","validate","render","field","fieldState","invalid","helperText","DialogActions","paddingTop","MinifigEdition","isEditModalOpen","toggleEditModalOpen","dipsatch","Tooltip","icon","LogoLink","bricklink","linkURL","href","alt","src","bricklinkLogo","bricksetLogo","paper","textAlign","boxSizing","picture","maxHeight","reference","tooltip","MinifigCard","Paper","brickset","resetFilters","marginTop","MinifigsList","paginatedMinifigsList","align","sm","md","lg","MinifigsFilters","previousFilters","filtersFormValues","useWatch","defaultValue","previousFiltersFormValues","isEqual","MinifigsMisce","addMinifigModalIsOpen","toggleAddMinifigModal","minHeight","MinifigsMenu","Minifigs","Auth","showPassword","toggleShowPassword","email","password","InputProps","endAdornment","InputAdornment","onMouseDown","preventDefault","Routes","path","exact","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","RouterProvider","createTheme","factor","ThemeProvider","reducer","combineReducers","store","configureStore","middleware","getDefaultMiddleware","StoreProvider","Providers","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bcf2bc6b.chunk.js","sourcesContent":["import { tryAutoSignIn, autoSignIn, logout } from './authSlice';\nimport { Middleware } from 'redux'\nimport { RootState } from 'store';\nimport { AnyAction, isFulfilled } from '@reduxjs/toolkit';\nimport { Dispatch } from 'react';\n\nconst clearAuthLocalStorage = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  localStorage.removeItem(\"userId\");\n}\n\nlet expireAuthTiemout: any;\n\nconst setAuthTimeout = (expirationDateISO: string, dispatch: Dispatch<AnyAction>) => {\n  expireAuthTiemout = setTimeout(() => {\n    dispatch(logout());\n  }, new Date(expirationDateISO).getTime() - new Date().getTime())\n}\n\n\nexport const authMiddleware: Middleware<{}, RootState> = ({ dispatch }) => (nextDispatch) => (action) => {\n  if (logout.match(action)) {\n    clearAuthLocalStorage()\n    clearTimeout(expireAuthTiemout)\n  }\n\n  if (tryAutoSignIn.match(action)) {\n    const token = localStorage.getItem('token');\n    const expirationDateISO = localStorage.getItem(\"expirationDate\");\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!token || !expirationDateISO || !userId) return clearTimeout(expireAuthTiemout);\n\n    if (new Date(expirationDateISO) <= new Date()) return clearAuthLocalStorage();\n\n    setAuthTimeout(expirationDateISO, dispatch);\n    return nextDispatch(autoSignIn({ token, userId }))\n  }\n\n  if (action?.type.match(/^auth/) && isFulfilled(action)) {\n    const { idToken, localId, expiresIn } = action.payload;\n    const expirationDate = new Date(new Date().getTime() + parseInt(expiresIn, 10) * 1000).toISOString();\n\n    setAuthTimeout(expirationDate, dispatch);\n    localStorage.setItem('token', idToken);\n    localStorage.setItem('expirationDate', expirationDate);\n    localStorage.setItem('userId', localId);\n  }\n\n  return nextDispatch(action);\n};","import { configureStore, combineReducers } from '@reduxjs/toolkit'\nimport minifigsReducer from './minifigs';\nimport authReducer, { authMiddleware } from './auth';\n\nexport const reducer = combineReducers({\n  minifigs: minifigsReducer,\n  auth: authReducer\n})\n\n// Helper function used for testing\nexport const initStore = (preloadedState?: Partial<RootState>) => configureStore({\n  reducer,\n  preloadedState,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(authMiddleware),\n})\n\nexport const store = initStore();\n\nexport type RootState = ReturnType<typeof reducer>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import React, { useCallback } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { NavLink } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    activeLink: {\n      color: theme.palette.primary.main,\n      fontWeight: theme.typography.fontWeightBold,\n    },\n  })\n);\n\ninterface BurgerMenuProps {\n  isAuthenticate: boolean;\n  logoutHandler: () => void;\n}\n\nexport const BurgerMenu: React.FC<BurgerMenuProps> = ({\n  isAuthenticate,\n  logoutHandler,\n}) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = useCallback(() => setAnchorEl(null), []);\n\n  const handleLogout = useCallback(() => {\n    handleClose();\n    logoutHandler();\n  }, [logoutHandler, handleClose]);\n\n  return (\n    <>\n      <IconButton\n        data-testid=\"burger-icon\"\n        aria-label=\"application menu icon\"\n        aria-controls=\"menu-header\"\n        aria-haspopup=\"true\"\n        onClick={handleMenu}\n        color=\"inherit\"\n      >\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id=\"menu-header\"\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuItem\n          data-testid=\"minifigs\"\n          component={NavLink}\n          to=\"/minifigs\"\n          activeClassName={classes.activeLink}\n          onClick={handleClose}\n        >\n          Minifigs\n        </MenuItem>\n        {isAuthenticate ? (\n          <MenuItem onClick={handleLogout}>Logout</MenuItem>\n        ) : (\n          <MenuItem\n            data-testid=\"auth\"\n            component={NavLink}\n            to=\"/auth\"\n            activeClassName={classes.activeLink}\n            onClick={handleClose}\n          >\n            Authentication\n          </MenuItem>\n        )}\n      </Menu>\n    </>\n  );\n};\n\nexport default BurgerMenu;\n","import BurgerMenu from './BurgerMenu';\nexport default BurgerMenu;","import React from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst a11yProps = (index: any) => ({\n  id: `simple-tab-${index}`,\n  \"aria-controls\": `simple-tabpanel-${index}`,\n});\n\ninterface TabMenuProps {\n  isAuthenticate: boolean;\n  logoutHandler: () => void;\n}\n\nexport const TabMenu: React.FC<TabMenuProps> = ({\n  isAuthenticate,\n  logoutHandler,\n}) => {\n  const { pathname } = useLocation();\n\n  return (\n    <Tabs value={pathname} aria-label=\"Tab menu\">\n      <Tab\n        data-testid=\"minifigs\"\n        label=\"Minifigs\"\n        value=\"/minifigs\"\n        component={Link}\n        to=\"/minifigs\"\n        {...a11yProps(0)}\n      />\n      {isAuthenticate ? (\n        <Tab label=\"Logout\" onClick={logoutHandler} />\n      ) : (\n        <Tab\n          label=\"Authentication\"\n          component={Link}\n          to=\"/auth\"\n          value=\"/auth\"\n          {...a11yProps(1)}\n        />\n      )}\n    </Tabs>\n  );\n};\n\nexport default TabMenu;\n","import TabMenu from './TabMenu';\nexport default TabMenu;","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from 'store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { useRef, useEffect } from 'react';\n\nconst usePrevious = <T,>(value: T) => {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nexport default usePrevious;\n","import { useState, useCallback } from 'react';\n\n/**\n * initialValue is false by default\n */\nexport const useToggle = (initialValue = false): [boolean, (nextValue?: boolean) => void] => {\n  const [value, setValue] = useState(initialValue);\n\n  const toggle = useCallback((nextValue?: boolean) => {\n    if (typeof nextValue !== 'undefined') {\n      return setValue(nextValue);\n    }\n    return setValue(v => !v)\n  }, []);\n\n  return [value, toggle];\n}\n\n\n\nexport default useToggle;\n","import { createBrowserHistory } from \"history\";\n\nexport const history = createBrowserHistory();\n\nexport default history;","import { createSlice, createAsyncThunk, PayloadAction, createAction } from '@reduxjs/toolkit'\nimport ky from 'ky';\nimport history from \"appHistory\";\n\ninterface AuthState {\n  token: null | string;\n  userId: null | string;\n  error: any;\n  isLoading: boolean;\n}\n\ninterface AuthResponse {\n  idToken: string;\n  displayName: string;\n  kind: string;\n  email: string;\n  refreshToken: string;\n  expiresIn: string;\n  localId: string;\n  registered: boolean;\n}\n\ninterface AuthPayload {\n  email: string,\n  password: string;\n}\n\ntype AutoSignIn = {\n  token: string;\n  userId: string;\n};\n\nconst initialState: AuthState = {\n  token: null,\n  userId: null,\n  error: null,\n  isLoading: false,\n}\n\n\n\nexport const authenticate = createAsyncThunk<AuthResponse, AuthPayload>('auth/authenticate',\n  async (payload, { rejectWithValue }) => {\n    try {\n      const response: AuthResponse = await ky.post(process.env.REACT_APP_AUTH_BASEURL as string, {\n        json: {\n          ...payload,\n          returnSecureToken: true\n        }\n      }).json();\n      // TODO: Add redirectRoute when starting working on other mages than /minifigs\n      history.push('/minifigs');\n      return response\n    } catch (err) {\n      console.error('Unable to authenticate', err);\n      return rejectWithValue(err.response.data)\n    }\n\n  }\n)\n\n// Empty action that get intercepted by the middleware\nexport const tryAutoSignIn = createAction('auth/tryAutoSignIn')\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: () => initialState,\n    autoSignIn: (state, action: PayloadAction<AutoSignIn>) => {\n      const { userId, token } = action.payload;\n      state.token = token;\n      state.userId = userId;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(authenticate.pending, (state) => {\n      state.isLoading = true;\n    })\n    builder.addCase(authenticate.fulfilled, (state, { payload }) => {\n      state.isLoading = false;\n      state.token = payload.idToken;\n      state.userId = payload.localId;\n    })\n    builder.addCase(authenticate.rejected, (state, { payload }) => {\n      state.isLoading = false;\n      state.error = payload;\n    })\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const { logout, autoSignIn } = authSlice.actions\n\nexport default authSlice.reducer","import { RootState } from \"../index\"\n\nexport const selectIsAuthenticate = (state: RootState) => !!state.auth.token;\n\nexport const selectAuthIsLoading = (state: RootState) => state.auth.isLoading;","import authReducer from './authSlice';\n\nexport * from './authSelectors';\nexport * from './authSlice';\nexport * from './authMiddleware';\n\nexport default authReducer;","import React, { useCallback } from \"react\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport BurgerMenu from \"./BurgerMenu\";\nimport TabMenu from \"./TabMenu\";\nimport { useAppDispatch, useAppSelector } from \"hooks\";\nimport { logout, selectIsAuthenticate } from \"store/auth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    title: {\n      flexGrow: 1,\n    },\n  })\n);\n\nexport const Header = () => {\n  const classes = useStyles();\n  const isAuthenticate = useAppSelector(selectIsAuthenticate);\n  const dispatch = useAppDispatch();\n  const { push } = useHistory();\n\n  const logoutHandler = useCallback(() => {\n    dispatch(logout());\n    push(\"/auth\");\n  }, [dispatch, push]);\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"sticky\">\n        <Toolbar variant=\"dense\">\n          <Typography variant=\"h6\" className={classes.title}>\n            Lego SW\n            <Hidden smDown> Collection Manager</Hidden>\n          </Typography>\n          <Hidden mdUp>\n            <BurgerMenu\n              isAuthenticate={isAuthenticate}\n              logoutHandler={logoutHandler}\n            />\n          </Hidden>\n          <Hidden smDown>\n            <TabMenu\n              isAuthenticate={isAuthenticate}\n              logoutHandler={logoutHandler}\n            />\n          </Hidden>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nexport default Header;\n","import Header from './Header';\nexport default Header;","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { createStyles, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    container: {\n      position: \"fixed\",\n      height: \"calc(100vh - 48px)\",\n    },\n  })\n);\n\nexport const Loader = () => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      direction=\"column\"\n      className={classes.container}\n    >\n      <CircularProgress size={200} thickness={2} disableShrink />\n      <Typography variant=\"h5\" color=\"primary\">\n        Loading...\n      </Typography>\n    </Grid>\n  );\n};\n\nexport default Loader;\n","import Loader from './Loader';\nexport default Loader;","import ky from 'ky';\n\nconst api = ky.create({ prefixUrl: process.env.REACT_APP_API_BASEURL })\n\nexport default api;","import api from \"api\";\nimport { MinifigsFilters, MinifigsList, TagOrCharacNameList } from \"interfaces/minifigs\";\n\n\n/**\n * Return the statistcs from the MinifigsList (totalNumber, numberOwned and percentageOwned)\n * @param  {MinifigsList} minifigsList\n */\nexport const getStatistics = (minifigsList: MinifigsList) => {\n  const totalNumber = minifigsList.length;\n  const numberOwned = minifigsList.filter(minifig => minifig.possessed).length;\n  const percentageOwned = Math.round(numberOwned / totalNumber * 10000) / 100;\n  return { totalNumber, numberOwned, percentageOwned }\n}\n/**\n * Return the tags and character names alphabetically sorted lists from a MinifigsList\n * @param  {MinifigsList} minifigsList\n */\nexport const getTagsAndCharacNames = (minifigsList: MinifigsList) => {\n  const tagsAndCharacNamesLists = minifigsList.reduce<Record<'tags' | 'characNames', TagOrCharacNameList>>((accumulator, currentMinifig) => {\n    const { characterName, tags } = currentMinifig;\n\n    const characNameIndex = accumulator.characNames.findIndex(el => el.name === characterName)\n    // If it is a new character name we had it to the accumulator\n    if (characNameIndex === -1) {\n      accumulator.characNames.push({ name: characterName, amount: 1 });\n    } else { // Or else we increment the amount of the existing one\n      accumulator.characNames[characNameIndex].amount++;\n    }\n\n    if (tags && tags.length) {\n      tags.forEach(tag => {\n        const tagIndex = accumulator.tags.findIndex(el => el.name === tag);\n        // If it is a new tag we had it to the accumulator\n        if (tagIndex === -1) {\n          accumulator.tags.push({ name: tag, amount: 1 });\n        } else { // Or else we increment the amount of the existing one\n          accumulator.tags[tagIndex].amount++;\n        }\n      })\n    }\n\n    return accumulator\n  }, { tags: [], characNames: [] })\n  tagsAndCharacNamesLists.tags.sort((a, b) => (a.name > b.name) ? 1 : -1);\n  tagsAndCharacNamesLists.characNames.sort((a, b) => (a.name > b.name) ? 1 : -1);\n  return tagsAndCharacNamesLists;\n}\n/**\n * Return the filtered list of minifigs\n * @param  {MinifigsList|null} list\n * @param  {MinifigsFilters} filters\n */\nexport const getFilteredMinifigsList = (list: MinifigsList | null, filters: MinifigsFilters) => list?.filter(minifig => {\n  const { show, characName, tag } = filters;\n  const { possessed, tags, characterName } = minifig;\n  const showFiltered = show === \"all\" ||\n    (show === \"owned\" && possessed) ||\n    (show === \"missing\" && !possessed);\n  const hasFilterTag = tag ? tags?.includes(tag) : true;\n  const hasFilterCharacName = characName ? characName === characterName : true;\n  return showFiltered && hasFilterCharacName && hasFilterTag\n})\n\nexport const restUpdateMinifigsList = async (updatedMinifigsList: MinifigsList, token: string) => await api.put(`minifigs.json?auth=${token}`, {\n  json: updatedMinifigsList,\n}).json<MinifigsList>();","export const findIndexById = (array: Partial<{ id: string }>[] | null | undefined, idToFind: string) => array?.findIndex(({ id }) => id === idToFind);","import { createSlice, createAsyncThunk, PayloadAction, isPending, isFulfilled, isRejectedWithValue } from '@reduxjs/toolkit'\nimport api from 'api';\nimport { TagOrCharacNameList, MinifigsList, MinifigsFilters, MinifigsPagination, Minifig } from 'interfaces/minifigs';\nimport { RootState } from 'store';\nimport { getFilteredMinifigsList, getTagsAndCharacNames, restUpdateMinifigsList } from 'utils';\nimport { findIndexById } from 'utils/array';\n\ninterface MinifigsState {\n  list: null | MinifigsList;\n  tags: null | TagOrCharacNameList;\n  characNames: null | TagOrCharacNameList;\n  filters: MinifigsFilters;\n  pagination: MinifigsPagination;\n  isLoading: boolean;\n  error: any;\n}\n\nconst initialState: MinifigsState = {\n  list: null,\n  tags: null,\n  characNames: null,\n  isLoading: false,\n  error: null,\n  filters: {\n    show: 'all',\n    characName: null,\n    tag: null\n  },\n  pagination: {\n    activePage: 0,\n    total: 0,\n    nbPerPage: 50\n  }\n}\n\nexport const fetchMinifigs = createAsyncThunk('minifigs/fetchMinifigs',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await api.get('minifigs.json').json<MinifigsList>();\n      return response;\n    } catch (err) {\n      console.error('Unable to fetch minifigs', err);\n      return rejectWithValue(err.message)\n    }\n\n  }\n)\n\nexport const toggleMinifigOwned = createAsyncThunk<string, string, { state: RootState }>('minifigs/toggleMinifigOwned', async (minifigId, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  if (!token) return minifigId;\n\n  const { list } = state.minifigs;\n  const indexOfMinifig = findIndexById(list, minifigId)\n  if (indexOfMinifig === undefined || indexOfMinifig === -1 || !list) return rejectWithValue('No minifig with that id');\n\n  try {\n    await api.patch(`minifigs/${indexOfMinifig}.json?auth=${token}`, {\n      json: {\n        possessed: !list[indexOfMinifig].possessed\n      }\n    })\n    return minifigId;\n  }\n  catch (err) {\n    console.error('Unable to toggle minifig owned', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nexport const editMinifig = createAsyncThunk<MinifigsList, Minifig, { state: RootState }>('minifigs/editMinifig', async (minifig, { getState, rejectWithValue, }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n  if (!Array.isArray(list)) return rejectWithValue('No minifigs list in the store');\n\n  const updatedMinifigsList = list.map((existingMinifig) => existingMinifig.id === minifig.id ? minifig : existingMinifig);\n\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err) {\n    console.error('Unable to edit the minifig', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nexport const addMinifig = createAsyncThunk<MinifigsList, Minifig, { state: RootState }>('minifigs/addMinifig', async (minifig, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n  if (!Array.isArray(list)) return rejectWithValue('No minifigs list in the store');\n\n  const updatedMinifigsList = list.concat(minifig).sort((a, b) => (a.id > b.id) ? 1 : -1);\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err) {\n    console.error('Unable to add the minifig', err);\n    return rejectWithValue(err.message)\n\n  }\n})\n\nexport const deleteMinifig = createAsyncThunk<MinifigsList, string, { state: RootState }>('minifigs/deleteMinifig', async (minifigId, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n\n  const indexOfMinifig = findIndexById(list, minifigId)\n  if (indexOfMinifig === undefined || indexOfMinifig === -1 || !list) return rejectWithValue('No minifig with that id');\n\n  const updatedMinifigsList = list.filter(({ id }) => id !== minifigId);\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err) {\n    console.error('Unable to delete minifig', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nconst isAPendingAction = isPending(fetchMinifigs, toggleMinifigOwned, editMinifig, addMinifig, deleteMinifig)\nconst isAFulfilledAction = isFulfilled(fetchMinifigs, toggleMinifigOwned, editMinifig, addMinifig, deleteMinifig)\nconst isARejectedWithValueAction = isRejectedWithValue(\n  fetchMinifigs,\n  toggleMinifigOwned,\n  editMinifig,\n  addMinifig,\n  deleteMinifig\n)\n\nexport const minifigsSlice = createSlice({\n  name: 'minifigs',\n  initialState,\n  reducers: {\n    setMinifigsFilters: (state, action: PayloadAction<Partial<MinifigsFilters>>) => {\n      const updatedFilter = { ...state.filters, ...action.payload }\n      const filteredList = getFilteredMinifigsList(state.list, updatedFilter);\n      state.filters = updatedFilter;\n      state.pagination.activePage = 0;\n      state.pagination.total = filteredList?.length || 0;\n    },\n    resetMinifigsFilters: state => {\n      state.filters = { show: 'all', tag: null, characName: null }\n      state.pagination.total = state.list?.length || 0;\n      state.pagination.activePage = 0;\n    },\n    setMinifigsPagination: (state, action: PayloadAction<MinifigsPagination>) => {\n      state.pagination = action.payload\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(toggleMinifigOwned.fulfilled, (state, { payload: minifigId }) => {\n      const index = state.list?.findIndex(({ id }) => id === minifigId)\n      if (index !== -1 && state.list && index !== undefined)\n        state.list[index].possessed = !state.list[index].possessed\n    })\n    builder.addMatcher(isFulfilled(addMinifig, fetchMinifigs, deleteMinifig, editMinifig), (state, { payload: list }) => {\n      const { tags, characNames } = getTagsAndCharacNames(list);\n      state.list = list;\n      state.pagination.activePage = 0;\n      state.pagination.total = list.length;\n      state.tags = tags;\n      state.characNames = characNames;\n      state.filters.characName = characNames.map(({ name }) => name).includes(state.filters.characName || '') ? state.filters.characName : null;\n      state.filters.tag = tags.map(({ name }) => name).includes(state.filters.tag || '') ? state.filters.tag : null\n    })\n    builder.addMatcher(isAPendingAction, (state) => {\n      state.isLoading = true;\n    })\n    builder.addMatcher(isAFulfilledAction, (state) => {\n      state.isLoading = false;\n    })\n    builder.addMatcher(isARejectedWithValueAction, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const { setMinifigsFilters, resetMinifigsFilters, setMinifigsPagination } = minifigsSlice.actions\n\nexport default minifigsSlice.reducer\n","import { getFilteredMinifigsList } from \"utils\";\nimport { RootState } from \"../index\"\n\nexport const selectMinifigsList = (state: RootState) => state.minifigs.list;\nexport const selectTagsAndCharacNames = (state: RootState) => ({\n  tags: state.minifigs.tags,\n  characNames: state.minifigs.characNames\n});\nexport const selectMinifigsFilters = (state: RootState) => state.minifigs.filters;\n\nexport const selectMinifigsPagination = (state: RootState) => state.minifigs.pagination;\n\nexport const selectMinifigsIsLoading = (state: RootState) => state.minifigs.isLoading;\n\nexport const selectPaginatedMinifigsList = (state: RootState) => {\n  const { nbPerPage, activePage } = state.minifigs.pagination;\n  const filteredList = getFilteredMinifigsList(state.minifigs.list, state.minifigs.filters);\n  const begin = activePage * nbPerPage;\n  const end = begin + nbPerPage;\n  const paginatedList = filteredList?.slice(begin, end);\n  return paginatedList;\n}","import minifigsReducer from './minifigsSlice';\n\nexport * from './minifigsSelectors';\nexport * from './minifigsSlice';\n\nexport default minifigsReducer;","import React, { useCallback } from \"react\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  selectMinifigsPagination,\n  setMinifigsPagination,\n} from \"store/minifigs\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    spacer: {\n      display: \"none\",\n      flex: \"none\",\n    },\n    toolbar: {\n      justifyContent: \"center\",\n    },\n  })\n);\n\nexport const MinifigsPagination: React.FC = () => {\n  const pagination = useAppSelector(selectMinifigsPagination);\n  const dispatch = useAppDispatch();\n  const { activePage, nbPerPage, total } = pagination;\n  const classes = useStyles();\n\n  const getLabelDisplayRows = useCallback(\n    ({ from, to, count }) => {\n      if (total <= nbPerPage) return `${from} - ${to}`;\n      return `${from} - ${to} of ${count}`;\n    },\n    [nbPerPage, total]\n  );\n\n  return (\n    <TablePagination\n      data-testid=\"minifigs-pagination\"\n      count={total}\n      page={activePage}\n      component=\"div\"\n      labelRowsPerPage=\"\"\n      SelectProps={{\n        \"aria-label\": \"Minifigs per page\",\n        //@ts-expect-error\n        \"data-testid\": \"minifigs-pagination-select\",\n      }}\n      rowsPerPageOptions={[\n        { value: 25, label: \"25/page\" },\n        { value: 50, label: \"50/page\" },\n        { value: 100, label: \"100/page\" },\n        { value: 200, label: \"200/page\" },\n      ]}\n      labelDisplayedRows={getLabelDisplayRows}\n      rowsPerPage={nbPerPage}\n      onPageChange={(_e, newPage) => {\n        dispatch(setMinifigsPagination({ ...pagination, activePage: newPage }));\n      }}\n      onRowsPerPageChange={(e) => {\n        const newNbPerPage = parseInt(e.target.value, 10);\n        dispatch(\n          setMinifigsPagination({\n            ...pagination,\n            nbPerPage: newNbPerPage,\n            activePage: 0,\n          })\n        );\n      }}\n      classes={{\n        spacer: classes.spacer,\n        toolbar: classes.toolbar,\n      }}\n    />\n  );\n};\n\nexport default MinifigsPagination;\n","import MinifigsPagination from './MinifigsPagination';\nexport default MinifigsPagination;","import React, { useCallback } from \"react\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport { selectMinifigsFilters, setMinifigsFilters } from \"store/minifigs\";\n\nexport type NameAndTagsProps = Pick<Minifig, \"tags\" | \"characterName\">;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    chip: {\n      margin: theme.spacing(0.5),\n      borderRadius: \"12px\",\n      height: \"auto\",\n      padding: `${theme.spacing(0.75)} 0`,\n      maxWidth: `calc(100% - ${theme.spacing(1)})`,\n    },\n    label: {\n      textOverflow: \"ellipsis\",\n      overflow: \"hidden\",\n      whiteSpace: \"nowrap\",\n      display: \"block\",\n    },\n    deleteIcon: {\n      height: theme.spacing(1.4),\n      width: theme.spacing(1.4),\n    },\n  })\n);\n\nexport const NameAndTags: React.FC<NameAndTagsProps> = ({\n  tags,\n  characterName,\n}) => {\n  const filters = useAppSelector(selectMinifigsFilters);\n  const dispatch = useAppDispatch();\n  const classes = useStyles();\n\n  const characNameHandler = useCallback(\n    (characName: string | null) => {\n      dispatch(setMinifigsFilters({ characName }));\n    },\n    [dispatch]\n  );\n\n  const tagHandler = useCallback(\n    (tag: string | null) => {\n      dispatch(setMinifigsFilters({ tag }));\n    },\n    [dispatch]\n  );\n\n  return (\n    <>\n      <Chip\n        label={characterName}\n        data-testid=\"character-name-chip\"\n        classes={{\n          root: classes.chip,\n          label: classes.label,\n          deleteIcon: classes.deleteIcon,\n        }}\n        clickable={characterName !== filters.characName}\n        color={characterName === filters.characName ? \"primary\" : \"default\"}\n        onClick={() => characNameHandler(characterName)}\n        onDelete={\n          characterName === filters.characName\n            ? () => characNameHandler(null)\n            : undefined\n        }\n      />\n      {Array.isArray(tags) && tags.length > 0 && (\n        <Divider variant=\"fullWidth\" />\n      )}\n      {tags?.map((tag) => (\n        <Chip\n          key={`${characterName}-${tag}`}\n          data-testid={`tag-${tag}-chip`}\n          label={tag}\n          classes={{\n            root: classes.chip,\n            label: classes.label,\n            deleteIcon: classes.deleteIcon,\n          }}\n          clickable={tag !== filters.tag}\n          color={tag === filters.tag ? \"primary\" : \"default\"}\n          onClick={() => tagHandler(tag)}\n          onDelete={tag === filters.tag ? () => tagHandler(null) : undefined}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default NameAndTags;\n","import NameAndTags from './NameAndTags';\nexport default NameAndTags;","import React from \"react\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { RadioButtonsProps } from \"../interface\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((_theme: Theme) =>\n  createStyles({\n    label: {\n      textTransform: \"capitalize\",\n    },\n  })\n);\n\nexport const RadioButtons = React.forwardRef<any, RadioButtonsProps>(\n  ({ value, label, options, row, ...props }, ref) => {\n    const classes = useStyles();\n    return (\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">{label}</FormLabel>\n        <RadioGroup\n          ref={ref}\n          row={!!row}\n          aria-label={label}\n          name={label}\n          value={value}\n          {...props}\n          // onChange={(_e, value) => changeHandler(value)}\n        >\n          {options.map((option) => (\n            <FormControlLabel\n              className={classes.label}\n              key={option}\n              value={option}\n              control={<Radio />}\n              label={option}\n            />\n          ))}\n        </RadioGroup>\n      </FormControl>\n    );\n  }\n);\n\nexport default RadioButtons;\n","import RadioButtons from './RadioButtons';\nexport default RadioButtons;","import React, { useState, useEffect, useCallback } from \"react\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { AutoCompleteProps, AutoCompleteOption } from \"../interface\";\n\nconst filter = createFilterOptions<AutoCompleteOption>();\n\n// TODO: Manage case sensitive in filters and treatment\n\nexport const AutoComplete = React.forwardRef<any, AutoCompleteProps>(\n  (\n    {\n      label,\n      value,\n      options,\n      multiple,\n      creatable,\n      placeholder,\n      muiProps,\n      onChange,\n    },\n    ref\n  ) => {\n    const [optionValue, setOptionValue] = useState<\n      AutoCompleteOption | AutoCompleteOption[] | null | undefined\n    >(multiple ? [] : null);\n\n    useEffect(() => {\n      let newValue = null;\n      if (Array.isArray(value) && multiple && !creatable) {\n        newValue = options.filter((option) => value.includes(option.value));\n      }\n      if (Array.isArray(value) && multiple && creatable) {\n        newValue = value.map((value) => ({\n          value,\n          label: value,\n          added: !options.map((option) => option.value).includes(value),\n        }));\n      }\n      if (value && !Array.isArray(value) && !multiple) {\n        newValue = options.find((option) => option.value === value);\n        if (newValue === undefined && creatable) {\n          newValue = {\n            label: value,\n            value,\n            added: true,\n          };\n        }\n        if (newValue === undefined && !creatable) {\n          newValue = null;\n        }\n      }\n      setOptionValue(newValue);\n    }, [value, options, multiple, creatable]);\n\n    const onChangeHandler = useCallback(\n      (newValue: AutoCompleteOption | AutoCompleteOption[] | null) => {\n        setOptionValue(newValue);\n        if (Array.isArray(newValue)) {\n          // @ts-ignore\n          onChange(newValue.map((option) => option.value));\n        } else {\n          // @ts-ignore\n          onChange(newValue ? newValue.value : null);\n        }\n      },\n      [setOptionValue, onChange]\n    );\n\n    return (\n      <Autocomplete\n        id={label}\n        multiple={!!multiple}\n        options={options}\n        autoHighlight\n        freeSolo={!!creatable}\n        selectOnFocus={!!creatable}\n        openOnFocus\n        clearOnBlur={!!creatable}\n        handleHomeEndKeys={!!creatable}\n        value={optionValue}\n        filterOptions={(options: AutoCompleteOption[], params) => {\n          const filtered = filter(options, params);\n          // Suggest the creation of a new value only if it does not exist in the options or newly created values\n          if (\n            params.inputValue !== \"\" &&\n            creatable &&\n            ((Array.isArray(optionValue) &&\n              !optionValue.find(\n                (option) => option.value === params.inputValue\n              ) &&\n              !options.find((option) => option.value === params.inputValue)) ||\n              !Array.isArray(optionValue))\n          ) {\n            filtered.push({\n              value: params.inputValue,\n              label: `Add \"${params.inputValue}\"`,\n              added: true,\n            });\n          }\n          return filtered;\n        }}\n        getOptionSelected={(option, value) => {\n          if (value?.added) {\n            return false;\n          }\n          return option.value === value.value;\n        }}\n        getOptionLabel={(option: AutoCompleteOption) => option.label}\n        onChange={(_e, value: any) => {\n          onChangeHandler(value);\n        }}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            ref={ref}\n            variant=\"outlined\"\n            label={label}\n            placeholder={placeholder}\n            InputLabelProps={{ shrink: true }}\n            {...muiProps}\n          />\n        )}\n        // TODO: Let the popper/modal/popover on the body or place them in the root?\n        // PopperComponent={(props) => (\n        //   <Popper {...props} container={document.getElementById(\"root\")} />\n        // )}\n      />\n    );\n  }\n);\n\nexport default AutoComplete;\n","import AutoComplete from './AutoComplete';\nexport default AutoComplete;","import TextField from './TextField';\nexport default TextField;","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { TextFieldProps } from \"../interface\";\n\nexport const CustomTextField = React.forwardRef<any, TextFieldProps>(\n  ({ muiProps, ...props }, ref) => (\n    <TextField\n      variant=\"outlined\"\n      ref={ref}\n      InputLabelProps={{ shrink: true }}\n      {...muiProps}\n      {...props}\n    />\n  )\n);\n\nexport default CustomTextField;\n","import Switch from './Switch';\nexport default Switch;","import React from \"react\";\nimport { SwitchProps } from \"../interface\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nexport const CustomSwitch = React.forwardRef<any, SwitchProps>(\n  ({ value, label, muiProps, onChange }, ref) => {\n    const switchElement = (\n      <Switch\n        ref={ref}\n        checked={value}\n        value={value}\n        color=\"primary\"\n        {...muiProps}\n        onChange={onChange}\n      />\n    );\n    if (label)\n      return (\n        <FormControlLabel\n          control={switchElement}\n          labelPlacement=\"start\"\n          label={label}\n        />\n      );\n    return switchElement;\n  }\n);\n\nexport default CustomSwitch;\n","import Inputs from './Inputs';\nexport default Inputs;","import React from \"react\";\nimport RadioButtons from \"./RadioButtons\";\nimport { InputsProps } from \"./interface\";\nimport AutoComplete from \"./AutoComplete\";\nimport TextField from \"./TextField\";\nimport Switch from \"./Switch\";\n\nexport const Inputs = React.forwardRef<any, InputsProps>((props, ref) => {\n  if (props.type === \"textfield\") {\n    const { type, ...passedProps } = props;\n    return <TextField {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"switch\") {\n    const { type, ...passedProps } = props;\n    return <Switch {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"autocomplete\") {\n    const { type, ...passedProps } = props;\n    return <AutoComplete {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"radiobuttons\") {\n    const { type, ...passedProps } = props;\n    return <RadioButtons {...passedProps} ref={ref} />;\n  }\n\n  return <span>Input not supported</span>;\n});\n\nexport default Inputs;\n","import React from \"react\";\nimport Button, { ButtonProps } from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface CustomButtonProps extends ButtonProps {\n  isLoading?: boolean;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    loader: {\n      marginLeft: theme.spacing(1),\n    },\n  })\n);\n\nexport const CustomButton: React.FC<CustomButtonProps> = ({\n  isLoading,\n  children,\n  disabled,\n  ...props\n}) => {\n  const classes = useStyles();\n  return (\n    <Button disabled={disabled || isLoading} {...props}>\n      {children}\n      {isLoading && (\n        <CircularProgress className={classes.loader} size=\"1em\" thickness={3} />\n      )}\n    </Button>\n  );\n};\n\nexport default CustomButton;\n","import Button from './Button';\nexport default Button;","import React, { useMemo } from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useForm, Controller, SubmitHandler } from \"react-hook-form\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Inputs from \"../inputs\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  addMinifig,\n  editMinifig,\n  selectMinifigsIsLoading,\n  selectMinifigsList,\n  selectTagsAndCharacNames,\n} from \"store/minifigs\";\nimport Button from \"../Button\";\n\nexport interface MinifigFormModalProps {\n  handleClose: () => void;\n  editMinifigData?: Minifig;\n}\n\nexport const MinifigFormModal: React.FC<MinifigFormModalProps> = ({\n  handleClose,\n  editMinifigData,\n}) => {\n  const { tags, characNames } = useAppSelector(selectTagsAndCharacNames);\n  const minifigsList = useAppSelector(selectMinifigsList);\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n  const dispatch = useAppDispatch();\n  const {\n    control,\n    reset,\n    unregister,\n    handleSubmit,\n    formState: { isValid },\n  } = useForm<Minifig>({\n    defaultValues: editMinifigData || {\n      id: \"\",\n      name: \"\",\n      characterName: \"\",\n      tags: [],\n      possessed: false,\n    },\n    mode: \"onChange\",\n  });\n\n  const characNamesOptions = useMemo(\n    () =>\n      characNames?.map((characName) => ({\n        label: characName.name,\n        value: characName.name,\n      })) || [],\n    [characNames]\n  );\n\n  const tagsOptions = useMemo(\n    () =>\n      tags?.map((tag) => ({\n        label: tag.name,\n        value: tag.name,\n      })) || [],\n    [tags]\n  );\n\n  const minifigsListIds = useMemo(\n    () => minifigsList?.map((minifig) => minifig.id) || [],\n    [minifigsList]\n  );\n\n  const onClose = () => {\n    handleClose();\n    reset();\n    unregister();\n  };\n\n  const onSubmit: SubmitHandler<Minifig> = (data) => {\n    if (editMinifigData) {\n      return dispatch(editMinifig(data));\n    }\n    return dispatch(addMinifig(data));\n  };\n\n  return (\n    <Dialog\n      open\n      onClose={onClose}\n      aria-labelledby=\"minifig-form-dialog\"\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <DialogTitle id=\"minifig-form-dialog\">\n          {editMinifigData ? `Edit ${editMinifigData.id}` : \"Add a minifig\"}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container direction=\"column\" spacing={2}>\n            <Grid item xs={12}>\n              <Controller\n                name=\"id\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                  pattern: {\n                    value: /^sw[0-9]{4}[abcds]?$/,\n                    message:\n                      \"This need to be a minifig reference (/^sw[0-9]{4}[abcds]?$/)\",\n                  },\n                  validate: (value) => {\n                    if (\n                      minifigsListIds.includes(value) &&\n                      value !== editMinifigData?.id\n                    ) {\n                      return \"This minifig already exists\";\n                    }\n                    return true;\n                  },\n                }}\n                render={({ field, fieldState }) => {\n                  return (\n                    <Inputs\n                      {...field}\n                      label=\"Id\"\n                      placeholder=\"Minifig id (ex: sw0001a)\"\n                      type=\"textfield\"\n                      muiProps={{\n                        disabled: !!editMinifigData,\n                        error: fieldState.invalid,\n                        helperText: fieldState.error?.message,\n                        required: true,\n                        fullWidth: true,\n                      }}\n                    />\n                  );\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"name\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                }}\n                render={({ field, fieldState }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Name\"\n                    placeholder=\"Minifig name (ex: Battle Droid Tan with Back Plate)\"\n                    type=\"textfield\"\n                    muiProps={{\n                      error: fieldState.invalid,\n                      helperText: fieldState.error?.message,\n                      required: true,\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"characterName\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                }}\n                render={({ field, fieldState }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Character Name\"\n                    placeholder=\"Character name (ex: Battle Droid)\"\n                    type=\"autocomplete\"\n                    creatable\n                    options={characNamesOptions}\n                    muiProps={{\n                      error: fieldState.invalid,\n                      helperText: fieldState.error?.message,\n                      required: true,\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"tags\"\n                control={control}\n                render={({ field }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Tags\"\n                    placeholder=\"Minifig tags (ex: Battle Droid, CIS, Droid)\"\n                    type=\"autocomplete\"\n                    creatable\n                    options={tagsOptions}\n                    multiple\n                    muiProps={{\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"possessed\"\n                control={control}\n                render={({ field }) => (\n                  <Inputs {...field} label=\"Possessed\" type=\"switch\" />\n                )}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} color=\"primary\" disabled={isLoading}>\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={!isValid}\n            isLoading={isLoading}\n          >\n            Submit\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default MinifigFormModal;\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Inputs from \"components/commons/inputs\";\nimport MinifigFormModal from \"components/commons/MinifigFormModal/MinifigFormModal\";\nimport { useAppDispatch, useAppSelector, useToggle } from \"hooks\";\nimport {\n  deleteMinifig,\n  selectMinifigsIsLoading,\n  toggleMinifigOwned,\n} from \"store/minifigs\";\n\nexport type MinifigEditionProps = Minifig;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      paddingTop: theme.spacing(0.5),\n    },\n  })\n);\n\nexport const MinifigEdition: React.FC<MinifigEditionProps> = (props) => {\n  const { possessed, id } = props;\n  const classes = useStyles();\n  const [isEditModalOpen, toggleEditModalOpen] = useToggle();\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n  const dipsatch = useAppDispatch();\n  return (\n    <Grid\n      container\n      className={classes.container}\n      justifyContent=\"space-evenly\"\n      alignItems=\"center\"\n    >\n      <Tooltip title=\"Switch possession\" aria-label=\"Switch possession\">\n        <span>\n          <Inputs\n            type=\"switch\"\n            value={possessed}\n            onChange={() => dipsatch(toggleMinifigOwned(id))}\n            muiProps={{ disabled: isLoading }}\n          />\n        </span>\n      </Tooltip>\n      <Tooltip title=\"Edit\" aria-label=\"Edit\">\n        <IconButton onClick={() => toggleEditModalOpen()}>\n          <EditIcon />\n        </IconButton>\n      </Tooltip>\n      {isEditModalOpen && (\n        <MinifigFormModal\n          handleClose={() => toggleEditModalOpen()}\n          editMinifigData={props}\n        />\n      )}\n      {/* TODO: Manage delete modal */}\n      <Tooltip title=\"Delete\" aria-label=\"Delete\">\n        <IconButton\n          disabled={isLoading}\n          onClick={() => dipsatch(deleteMinifig(id))}\n        >\n          <DeleteIcon />\n        </IconButton>\n      </Tooltip>\n    </Grid>\n  );\n};\n\nexport default MinifigEdition;\n","import MinifigEdition from './MinifigEdition';\nexport default MinifigEdition;","export default __webpack_public_path__ + \"static/media/brickset.cdd8ff5b.png\";","export default __webpack_public_path__ + \"static/media/bricklink.7488f58e.png\";","import React, { useMemo } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport bricksetLogo from \"assets/images/logo/brickset.png\";\nimport bricklinkLogo from \"assets/images/logo/bricklink.png\";\n\ntype LogoLinkProps = { id: string } & (\n  | { brickset: true; bricklink?: never }\n  | { brickset?: never; bricklink: true }\n) &\n  ({ minifig: true; set?: never } | { minifig?: never; set: true });\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    icon: {\n      \"& img\": {\n        height: \"2rem\",\n        width: \"2rem\",\n      },\n      margin: theme.spacing(0.5),\n      padding: theme.spacing(0.7),\n    },\n  })\n);\n\nexport const LogoLink: React.FC<LogoLinkProps> = ({\n  bricklink,\n  minifig,\n  id,\n}) => {\n  const classes = useStyles();\n\n  // TODO: Test later but the cost of useMemo first render does not seem worth here\n  // const imageSrc = useMemo(\n  //   () => (bricklink ? bricklinkLogo : bricksetLogo),\n  //   [bricklink]\n  // );\n  // const alt = useMemo(\n  //   () => (bricklink ? \"bricklink-logo\" : \"brickset-logo\"),\n  //   [bricklink]\n  // );\n\n  const linkURL = useMemo(() => {\n    if (bricklink)\n      return `https://www.bricklink.com/v2/catalog/catalogitem.page?${\n        minifig ? \"M\" : \"S\"\n      }=${id}`;\n    else return `https://brickset.com/${minifig ? \"minifigs\" : \"sets\"}/${id}`;\n  }, [bricklink, minifig, id]);\n\n  return (\n    <IconButton className={classes.icon} href={linkURL}>\n      <img\n        alt={bricklink ? \"bricklink-logo\" : \"brickset-logo\"}\n        src={bricklink ? bricklinkLogo : bricksetLogo}\n      />\n    </IconButton>\n  );\n};\n\nexport default LogoLink;\n","import LogoLink from './LogoLink';\nexport default LogoLink;","import React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport NameAndTags from \"./NameAndTags\";\nimport MinifigEdition from \"./MinifigEdition\";\nimport LogoLink from \"components/commons/LogoLink\";\n\nexport type MinifigCardProps = Minifig;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    paper: {\n      display: \"flex\",\n      textAlign: \"center\",\n      margin: theme.spacing(1),\n      padding: theme.spacing(0.5),\n      boxSizing: \"border-box\",\n      height: `calc(100% - ${theme.spacing(1)})`,\n    },\n    picture: {\n      width: \"auto\",\n      maxWidth: \"90%\",\n      maxHeight: \"100%\",\n      // height: theme.spacing(25),\n    },\n    reference: {\n      textTransform: \"uppercase\",\n    },\n    item: {\n      width: \"100%\",\n      \"& hr\": {\n        width: `calc(100% + ${theme.spacing(1)})`,\n        marginLeft: theme.spacing(-0.5),\n      },\n    },\n    tooltip: {\n      textAlign: \"center\",\n      maxWidth: \"15em\",\n    },\n  })\n);\n\nexport const MinifigCard: React.FC<MinifigCardProps> = (props) => {\n  const classes = useStyles();\n  const { id, characterName, name, tags } = props;\n  return (\n    <Paper className={classes.paper}>\n      <Grid container direction=\"column\" justifyContent=\"space-between\">\n        <Grid item>\n          <Tooltip title={name} classes={{ tooltip: classes.tooltip }}>\n            <img\n              className={classes.picture}\n              src={`https://img.bricklink.com/ItemImage/MN/0/${id}.png`}\n              alt={`${id}-bricklink-png`}\n            />\n          </Tooltip>\n        </Grid>\n        <Grid item className={classes.item}>\n          <Typography className={classes.reference}>{id}</Typography>\n          <Divider variant=\"fullWidth\" />\n          <NameAndTags characterName={characterName} tags={tags} />\n          <Divider variant=\"fullWidth\" />\n          <LogoLink id={id} bricklink minifig />\n          <LogoLink id={id} brickset minifig />\n          <Divider variant=\"fullWidth\" />\n          <MinifigEdition {...props} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MinifigCard;\n","import MinifigCard from './MinifigCard';\nexport default MinifigCard;","import React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  selectPaginatedMinifigsList,\n  resetMinifigsFilters,\n} from \"store/minifigs\";\nimport MinifigsPagination from \"./MinifigsPagination\";\nimport MinifigCard from \"./MinifigCard\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    resetFilters: {\n      marginTop: theme.spacing(2),\n    },\n  })\n);\n\nexport const MinifigsList = () => {\n  const paginatedMinifigsList = useAppSelector(selectPaginatedMinifigsList);\n  const dispatch = useAppDispatch();\n  const classes = useStyles();\n\n  if (!Array.isArray(paginatedMinifigsList)) return null;\n\n  if (paginatedMinifigsList.length === 0)\n    return (\n      <Grid\n        container\n        justifyContent=\"center\"\n        direction=\"column\"\n        alignItems=\"center\"\n        className={classes.resetFilters}\n      >\n        <Typography align=\"center\" variant=\"h6\">\n          There are no minifigs with those filters\n        </Typography>\n        <Button\n          variant=\"contained\"\n          onClick={() => dispatch(resetMinifigsFilters())}\n        >\n          Reset filters\n        </Button>\n      </Grid>\n    );\n\n  return (\n    <>\n      <Grid item xs={12}>\n        <MinifigsPagination />\n      </Grid>\n      {paginatedMinifigsList.map((minifig) => (\n        <Grid item xs={6} sm={4} md={3} lg={2} key={minifig.id}>\n          <MinifigCard {...minifig} />\n        </Grid>\n      ))}\n      <Grid item xs={12}>\n        <MinifigsPagination />\n      </Grid>\n    </>\n  );\n};\n\nexport default MinifigsList;\n","import MinifigsList from \"./MinifigsList\"\nexport default MinifigsList;","import MinifigsFilters from './MinifigsFilters';\nexport default MinifigsFilters;","import React, { useMemo, useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Inputs from \"components/commons/inputs\";\nimport { useAppDispatch, useAppSelector } from \"hooks\";\nimport {\n  selectMinifigsFilters,\n  selectTagsAndCharacNames,\n  setMinifigsFilters,\n} from \"store/minifigs\";\nimport { useForm, Controller, useWatch } from \"react-hook-form\";\nimport { MinifigsFilters as MinifigsFiltersType } from \"interfaces/minifigs\";\nimport isEqual from \"fast-deep-equal\";\nimport usePrevious from \"hooks/usePrevious\";\n\nexport const MinifigsFilters: React.FC = () => {\n  const { tags, characNames } = useAppSelector(selectTagsAndCharacNames);\n  const dispatch = useAppDispatch();\n  const filters = useAppSelector(selectMinifigsFilters);\n  const previousFilters = usePrevious(filters);\n  const { control, reset } = useForm<MinifigsFiltersType>({\n    defaultValues: filters,\n  });\n  const filtersFormValues = useWatch({\n    control: control,\n    defaultValue: filters,\n  });\n  const previousFiltersFormValues = usePrevious(filtersFormValues);\n\n  useEffect(() => {\n    // If the filtersFormValues change and not the filters that means the form\n    // was changed so we set the store accordingly\n    if (\n      !isEqual(filters, filtersFormValues) &&\n      !isEqual(previousFiltersFormValues, filtersFormValues)\n    ) {\n      dispatch(setMinifigsFilters(filtersFormValues));\n    }\n  }, [dispatch, filtersFormValues, previousFiltersFormValues, filters]);\n\n  useEffect(() => {\n    // If the filters change and not the filtersFormValues that means the\n    // filters were reset in the store so we reset the form\n    if (\n      !isEqual(filters, previousFilters) &&\n      !isEqual(filters, filtersFormValues)\n    ) {\n      reset(filters);\n    }\n  }, [filters, previousFilters, filtersFormValues, reset]);\n\n  const characNamesOptions = useMemo(\n    () =>\n      characNames?.map((characName) => ({\n        label: `${characName.name} (${characName.amount})`,\n        value: characName.name,\n      })) || [],\n    [characNames]\n  );\n\n  const tagsOptions = useMemo(\n    () =>\n      tags?.map((tag) => ({\n        label: `${tag.name} (${tag.amount})`,\n        value: tag.name,\n      })) || [],\n    [tags]\n  );\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item>\n        <Controller\n          name=\"show\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Show\"\n              type=\"radiobuttons\"\n              row\n              options={[\"all\", \"owned\", \"missing\"]}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item>\n        <Controller\n          name=\"characName\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Character Name\"\n              type=\"autocomplete\"\n              placeholder=\"Filter by character name\"\n              options={characNamesOptions}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item>\n        <Controller\n          name=\"tag\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Tag\"\n              type=\"autocomplete\"\n              placeholder=\"Filter by tag\"\n              options={tagsOptions}\n            />\n          )}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MinifigsFilters;\n","import MinifigsMisce from './MinifigsMisce';\nexport default MinifigsMisce;","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport MinifigFormModal from \"components/commons/MinifigFormModal/MinifigFormModal\";\nimport { useToggle } from \"hooks\";\n\nexport const MinifigsMisce: React.FC = () => {\n  const [addMinifigModalIsOpen, toggleAddMinifigModal] = useToggle(false);\n\n  return (\n    <>\n      <p>\n        Minifigs Miscellanous info (total, percentage owned, add minifig, set\n        possession to all)\n      </p>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => toggleAddMinifigModal()}\n      >\n        Add a minifig\n      </Button>\n      {addMinifigModalIsOpen && (\n        <MinifigFormModal handleClose={() => toggleAddMinifigModal(false)} />\n      )}\n    </>\n  );\n};\n\nexport default MinifigsMisce;\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport MinifigsFilters from \"./MinifigsFilters\";\nimport MinifigsMisce from \"./MinifigsMisce\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    paper: {\n      padding: theme.spacing(2),\n      margin: theme.spacing(2),\n      boxSizing: \"border-box\",\n      minHeight: `calc(100% - ${theme.spacing(4)})`,\n    },\n  })\n);\n\nexport const MinifigsMenu: React.FC = () => {\n  const classes = useStyles();\n\n  return (\n    <Grid container>\n      <Grid item xs={12} md={6}>\n        <Paper className={classes.paper}>\n          <MinifigsMisce />\n        </Paper>\n      </Grid>\n      <Grid item xs={12} md={6}>\n        <Paper className={classes.paper}>\n          <MinifigsFilters />\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MinifigsMenu;\n","import MinifigsMenu from './MinifigsMenu';\nexport default MinifigsMenu;","import Minifigs from './Minifigs';\nexport default Minifigs;","import React, { useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport Loader from \"components/commons/Loader\";\nimport {\n  selectMinifigsList,\n  fetchMinifigs,\n  selectMinifigsIsLoading,\n} from \"store/minifigs\";\nimport MinifigsList from \"./MinifigsList\";\nimport MinifigsMenu from \"./MinifigsMenu\";\n\nexport const Minifigs = () => {\n  const dispatch = useAppDispatch();\n  const minifigsList = useAppSelector(selectMinifigsList);\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n\n  useEffect(() => {\n    !minifigsList && dispatch(fetchMinifigs());\n  }, [minifigsList, dispatch]);\n\n  if (!Array.isArray(minifigsList) && isLoading) return <Loader />;\n\n  return (\n    <Grid container justifyContent=\"center\" alignItems=\"stretch\">\n      <Grid item xs={12}>\n        <MinifigsMenu />\n      </Grid>\n      <MinifigsList />\n    </Grid>\n  );\n};\n\nexport default Minifigs;\n","import React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useForm, Controller, SubmitHandler } from \"react-hook-form\";\nimport Inputs from \"components/commons/inputs\";\nimport { useAppDispatch, useAppSelector, useToggle } from \"hooks\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Button from \"components/commons/Button\";\nimport { authenticate, selectAuthIsLoading } from \"store/auth\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    paper: {\n      padding: theme.spacing(2),\n      margin: theme.spacing(2),\n      boxSizing: \"border-box\",\n      minHeight: `calc(100% - ${theme.spacing(4)})`,\n    },\n  })\n);\n\nexport type AuthInputs = {\n  email: string;\n  password: string;\n};\n\nexport const Auth: React.FC = () => {\n  const [showPassword, toggleShowPassword] = useToggle();\n  const dispatch = useAppDispatch();\n  const isLoading = useAppSelector(selectAuthIsLoading);\n  const {\n    control,\n    handleSubmit,\n    formState: { isValid },\n  } = useForm<AuthInputs>({\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n    mode: \"onChange\",\n  });\n  const classes = useStyles();\n\n  const onSubmit: SubmitHandler<AuthInputs> = (data) =>\n    dispatch(authenticate(data));\n\n  return (\n    <Paper\n      component=\"form\"\n      onSubmit={handleSubmit(onSubmit)}\n      className={classes.paper}\n    >\n      <Grid container justifyContent=\"center\" spacing={2}>\n        <Grid item xs={12}>\n          <Controller\n            name=\"email\"\n            control={control}\n            rules={{\n              required: \"This field is required\",\n              pattern: {\n                value:\n                  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n                message: \"This need to be a valid email\",\n              },\n            }}\n            render={({ field, fieldState }) => {\n              return (\n                <Inputs\n                  {...field}\n                  label=\"Email\"\n                  id=\"email\"\n                  placeholder=\"Email@exemple.com\"\n                  type=\"textfield\"\n                  muiProps={{\n                    error: fieldState.invalid,\n                    helperText: fieldState.error?.message,\n                    required: true,\n                    fullWidth: true,\n                  }}\n                />\n              );\n            }}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Controller\n            name=\"password\"\n            control={control}\n            rules={{\n              required: \"This field is required\",\n            }}\n            render={({ field, fieldState }) => {\n              return (\n                <Inputs\n                  {...field}\n                  label=\"Password\"\n                  id=\"password\"\n                  type=\"textfield\"\n                  muiProps={{\n                    error: fieldState.invalid,\n                    helperText: fieldState.error?.message,\n                    required: true,\n                    fullWidth: true,\n                    type: showPassword ? \"text\" : \"password\",\n                    InputProps: {\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={() => toggleShowPassword()}\n                            onMouseDown={(e) => e.preventDefault()}\n                          >\n                            {showPassword ? <Visibility /> : <VisibilityOff />}\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    },\n                  }}\n                />\n              );\n            }}\n          />\n        </Grid>\n        <Button\n          type=\"submit\"\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={!isValid}\n          isLoading={isLoading}\n        >\n          Submit\n        </Button>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Auth;\n","import Auth from './Auth';\nexport default Auth;","import Routes from './Routes';\nexport default Routes;","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Minifigs from \"components/pages/Minifigs\";\nimport Auth from \"components/pages/Auth\";\n\nexport const Routes = () => (\n  <Switch>\n    <Route path=\"/minifigs\" component={Minifigs} />\n    <Route exact path=\"/auth\" component={Auth} />\n    {/* <Route exact path='/' /> */}\n    <Redirect to=\"/minifigs\" />\n  </Switch>\n);\n\nexport default Routes;\n","import React, { useEffect } from \"react\";\nimport Header from \"components/commons/Header\";\nimport Routes from \"./routes\";\nimport { useAppDispatch } from \"hooks\";\nimport { tryAutoSignIn } from \"store/auth\";\n\nconst App = () => {\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(tryAutoSignIn());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <Routes />\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import RouterProvider from \"./RouterProvider\";\nexport default RouterProvider;","import React from \"react\";\nimport { Router } from \"react-router-dom\";\nimport history from \"appHistory\";\n\nexport const RouterProvider: React.FC = ({ children }) => (\n  <Router history={history}>{children}</Router>\n);\n\nexport default RouterProvider;\n","import React from \"react\";\nimport { ThemeProvider, createTheme } from \"@material-ui/core/styles\";\n\n// declare module \"@material-ui/core/styles\" {\n//   interface Theme {\n//     custom?: any;\n//   }\n//   interface ThemeOptions {\n//     custom?: any;\n//   }\n// }\n\nconst theme = createTheme({\n  spacing: (factor: number) => `${factor * 0.5}em`,\n  // TODO: Let the popper/modal/popover on the body or place them in the root?\n  // props: {\n  //   MuiPopover: {\n  //     container: document.getElementById(\"root\"),\n  //   },\n  // },\n});\n\nexport const RouterProvider: React.FC = ({ children }) => (\n  <ThemeProvider theme={theme}>{children}</ThemeProvider>\n);\n\nexport default RouterProvider;\n","import ThemeProvider from \"./ThemeProvider\";\nexport default ThemeProvider;","import StoreProvider from \"./StoreProvider\";\nexport default StoreProvider;","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"store\";\n\nexport const StoreProvider: React.FC = ({ children }) => (\n  <Provider store={store}>{children}</Provider>\n);\n\nexport default StoreProvider;\n","import Providers from \"./Providers\";\nexport default Providers;","import React from \"react\";\nimport RouterProvider from \"./RouterProvider\";\nimport ThemeProvider from \"./ThemeProvider\";\nimport StoreProvider from \"./StoreProvider\";\n\nexport const Providers: React.FC = ({ children }) => (\n  <RouterProvider>\n    <StoreProvider>\n      <ThemeProvider>{children}</ThemeProvider>\n    </StoreProvider>\n  </RouterProvider>\n);\n\nexport default Providers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Providers from \"./providers\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}