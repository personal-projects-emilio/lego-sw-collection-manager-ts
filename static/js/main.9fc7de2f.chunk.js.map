{"version":3,"sources":["store/auth/authMiddleware.ts","store/index.ts","hooks/store.ts","hooks/usePrevious.ts","hooks/useToggle.ts","appHistory.ts","store/auth/authSlice.ts","store/auth/authSelectors.ts","store/auth/index.ts","components/commons/Header/BurgerMenu/index.ts","components/commons/Header/BurgerMenu/BurgerMenu.tsx","components/commons/Header/TabMenu/TabMenu.tsx","components/commons/Header/TabMenu/index.ts","components/commons/Header/index.ts","components/commons/Header/Header.tsx","components/commons/Loader/index.ts","components/commons/Loader/Loader.tsx","api.ts","utils/minifigs.ts","utils/array.ts","store/minifigs/minifigsSlice.ts","store/minifigs/minifigsSelectors.ts","store/minifigs/index.ts","components/pages/Minifigs/MinifigsList/MinifigsPagination/index.ts","components/pages/Minifigs/MinifigsList/MinifigsPagination/MinifigsPagination.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/NameAndTags/NameAndTags.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/NameAndTags/index.ts","components/commons/inputs/RadioButtons/index.ts","components/commons/inputs/RadioButtons/RadioButtons.tsx","components/commons/inputs/AutoComplete/AutoComplete.tsx","components/commons/inputs/AutoComplete/index.ts","components/commons/inputs/TextField/index.ts","components/commons/inputs/TextField/TextField.tsx","components/commons/inputs/Switch/index.ts","components/commons/inputs/Switch/Switch.tsx","components/commons/inputs/index.ts","components/commons/inputs/Inputs.tsx","components/commons/Button/index.ts","components/commons/Button/Button.tsx","components/commons/MinifigFormModal/MinifigFormModal.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigEdition/index.ts","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigEdition/MinifigEdition.tsx","assets/images/logo/brickset.png","assets/images/logo/bricklink.png","components/commons/LogoLink/index.ts","components/commons/LogoLink/LogoLink.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/MinifigCard.tsx","components/pages/Minifigs/MinifigsList/MinifigCard/index.ts","components/pages/Minifigs/MinifigsList/index.ts","components/pages/Minifigs/MinifigsList/MinifigsList.tsx","components/pages/Minifigs/MinifigsMenu/MinifigsFilters/index.ts","components/pages/Minifigs/MinifigsMenu/MinifigsFilters/MinifigsFilters.tsx","components/pages/Minifigs/MinifigsMenu/MinifigsMisce/index.ts","components/pages/Minifigs/MinifigsMenu/MinifigsMisce/MinifigsMisce.tsx","components/pages/Minifigs/MinifigsMenu/MinifigsMenu.tsx","components/pages/Minifigs/MinifigsMenu/index.ts","components/pages/Minifigs/index.ts","components/pages/Minifigs/Minifigs.tsx","components/pages/Auth/Auth.tsx","components/pages/Auth/index.ts","routes/index.ts","routes/Routes.tsx","App.tsx","reportWebVitals.ts","providers/RouterProvider/index.ts","providers/RouterProvider/RouterProvider.tsx","providers/ThemeProvider/ThemeProvider.tsx","providers/ThemeProvider/index.ts","providers/StoreProvider/index.ts","providers/StoreProvider/StoreProvider.tsx","providers/index.ts","providers/Providers.tsx","index.tsx"],"names":["expireAuthTiemout","preloadedState","useAppDispatch","useDispatch","useAppSelector","useSelector","usePrevious","value","ref","useRef","useEffect","current","useToggle","initialValue","useState","setValue","toggle","useCallback","nextValue","v","history","createBrowserHistory","basename","process","initialState","token","userId","error","isLoading","authenticate","createAsyncThunk","payload","a","rejectWithValue","ky","post","json","returnSecureToken","response","push","console","data","tryAutoSignIn","createAction","authSlice","createSlice","name","reducers","logout","autoSignIn","state","action","extraReducers","builder","addCase","pending","fulfilled","idToken","localId","rejected","actions","selectIsAuthenticate","auth","selectAuthIsLoading","clearAuthLocalStorage","localStorage","removeItem","setAuthTimeout","expirationDateISO","dispatch","setTimeout","Date","getTime","authMiddleware","nextDispatch","match","clearTimeout","getItem","type","isFulfilled","expiresIn","expirationDate","parseInt","toISOString","setItem","authReducer","BurgerMenu","isAuthenticate","logoutHandler","pathname","useLocation","React","anchorEl","setAnchorEl","open","Boolean","handleClose","handleLogout","IconButton","id","undefined","onClick","event","currentTarget","color","Menu","anchorOrigin","vertical","horizontal","transformOrigin","onClose","sx","display","padding","fontWeight","MenuListProps","MenuItem","component","Link","to","selected","a11yProps","index","TabMenu","Tabs","Tab","label","Header","useHistory","AppBar","position","Toolbar","variant","Typography","flexGrow","Hidden","smDown","mdUp","Loader","Grid","container","justifyContent","alignItems","direction","height","CircularProgress","size","thickness","disableShrink","api","create","prefixUrl","getFilteredMinifigsList","list","filters","filter","minifig","show","characName","tag","possessed","tags","characterName","showFiltered","hasFilterTag","includes","restUpdateMinifigsList","updatedMinifigsList","put","findIndexById","array","idToFind","findIndex","fetchMinifigs","_","get","message","toggleMinifigOwned","minifigId","getState","minifigs","indexOfMinifig","patch","editMinifig","Array","isArray","map","existingMinifig","addMinifig","concat","sort","b","deleteMinifig","isAPendingAction","isPending","isAFulfilledAction","isARejectedWithValueAction","isRejectedWithValue","minifigsSlice","characNames","pagination","activePage","total","nbPerPage","setMinifigsFilters","updatedFilter","filteredList","length","resetMinifigsFilters","setMinifigsPagination","addMatcher","minifigsList","tagsAndCharacNamesLists","reduce","accumulator","currentMinifig","characNameIndex","el","amount","forEach","tagIndex","getTagsAndCharacNames","selectMinifigsList","selectTagsAndCharacNames","selectMinifigsFilters","selectMinifigsPagination","selectMinifigsIsLoading","selectPaginatedMinifigsList","begin","end","slice","minifigsReducer","MinifigsPagination","getLabelDisplayRows","from","count","TablePagination","page","labelRowsPerPage","SelectProps","rowsPerPageOptions","labelDisplayedRows","rowsPerPage","onPageChange","_e","newPage","onRowsPerPageChange","e","newNbPerPage","target","flex","StyledChip","styled","Chip","theme","margin","spacing","borderRadius","maxWidth","textOverflow","overflow","whiteSpace","width","NameAndTags","characNameHandler","tagHandler","clickable","onDelete","Divider","RadioButtons","forwardRef","options","row","props","FormControl","FormLabel","RadioGroup","option","FormControlLabel","textTransform","control","Radio","createFilterOptions","AutoComplete","multiple","creatable","placeholder","muiProps","onChange","optionValue","setOptionValue","newValue","added","find","onChangeHandler","Autocomplete","autoHighlight","freeSolo","openOnFocus","filterOptions","params","filtered","trimedInputValue","inputValue","trim","getOptionLabel","renderInput","TextField","InputLabelProps","shrink","Switch","switchElement","checked","labelPlacement","Inputs","passedProps","Button","children","disabled","marginLeft","MinifigFormModal","editMinifigData","useForm","defaultValues","mode","reset","unregister","handleSubmit","isValid","formState","characNamesOptions","useMemo","tagsOptions","minifigsListIds","Dialog","fullWidth","onSubmit","DialogTitle","DialogContent","dividers","item","xs","rules","required","pattern","validate","render","field","fieldState","invalid","helperText","DialogActions","MinifigEdition","duplicateProps","isEditModalOpen","toggleEditModalOpen","isDuplicateModalOpen","toggleDuplicateModalOpen","isDeleteModalOpen","toggleDeleteModalOpen","paddingTop","Tooltip","title","LogoLink","bricklink","linkURL","href","alt","src","bricklinkLogo","bricksetLogo","StyledImg","maxHeight","CustomWidthTooltip","className","classes","popper","tooltipClasses","tooltip","textAlign","MinifigCard","Paper","boxSizing","brickset","MinifigsList","paginatedMinifigsList","marginTop","align","Box","marginX","sm","md","lg","MinifigsFilters","previousFilters","filtersFormValues","useWatch","defaultValue","previousFiltersFormValues","isEqual","MinifigsMisce","addMinifigModalIsOpen","toggleAddMinifigModal","totalNumber","numberOwned","percentageOwned","Math","round","getStatistics","rowSpacing","marginBottom","endIcon","encodeURIComponent","JSON","stringify","download","rel","StyledPaper","minHeight","MinifigsMenu","Minifigs","Auth","showPassword","toggleShowPassword","email","password","InputProps","endAdornment","InputAdornment","onMouseDown","preventDefault","Routes","path","exact","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","RouterProvider","createTheme","factor","palette","ThemeProvider","CssBaseline","reducer","combineReducers","store","configureStore","middleware","getDefaultMiddleware","StoreProvider","Providers","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fc7de2f.chunk.js","sourcesContent":["import { tryAutoSignIn, autoSignIn, logout } from './authSlice';\nimport { Middleware } from 'redux'\nimport { RootState } from 'store';\nimport { AnyAction, isFulfilled } from '@reduxjs/toolkit';\nimport { Dispatch } from 'react';\n\nconst clearAuthLocalStorage = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  localStorage.removeItem(\"userId\");\n}\n\nlet expireAuthTiemout: NodeJS.Timeout;\n\nconst setAuthTimeout = (expirationDateISO: string, dispatch: Dispatch<AnyAction>) => {\n  expireAuthTiemout = setTimeout(() => {\n    dispatch(logout());\n  }, new Date(expirationDateISO).getTime() - new Date().getTime())\n}\n\n\nexport const authMiddleware: Middleware<{}, RootState> = ({ dispatch }) => (nextDispatch) => (action) => {\n  if (logout.match(action)) {\n    clearAuthLocalStorage()\n    clearTimeout(expireAuthTiemout)\n  }\n\n  if (tryAutoSignIn.match(action)) {\n    const token = localStorage.getItem('token');\n    const expirationDateISO = localStorage.getItem(\"expirationDate\");\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!token || !expirationDateISO || !userId) return clearTimeout(expireAuthTiemout);\n\n    if (new Date(expirationDateISO) <= new Date()) return clearAuthLocalStorage();\n\n    setAuthTimeout(expirationDateISO, dispatch);\n    return nextDispatch(autoSignIn({ token, userId }))\n  }\n\n  if (action?.type.match(/^auth/) && isFulfilled(action)) {\n    const { idToken, localId, expiresIn } = action.payload;\n    const expirationDate = new Date(new Date().getTime() + parseInt(expiresIn, 10) * 1000).toISOString();\n\n    setAuthTimeout(expirationDate, dispatch);\n    localStorage.setItem('token', idToken);\n    localStorage.setItem('expirationDate', expirationDate);\n    localStorage.setItem('userId', localId);\n  }\n\n  return nextDispatch(action);\n};","import { configureStore, combineReducers } from '@reduxjs/toolkit'\nimport minifigsReducer from './minifigs';\nimport authReducer, { authMiddleware } from './auth';\n\nexport const reducer = combineReducers({\n  minifigs: minifigsReducer,\n  auth: authReducer\n})\n\n// Helper function used for testing\nexport const initStore = (preloadedState?: Partial<RootState>) => configureStore({\n  reducer,\n  preloadedState,\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(authMiddleware),\n})\n\nexport const store = initStore();\n\nexport type RootState = ReturnType<typeof reducer>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from 'store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { useRef, useEffect } from 'react';\n\nconst usePrevious = <T,>(value: T) => {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nexport default usePrevious;\n","import { useState, useCallback } from 'react';\n\n/**\n * initialValue is false by default\n */\nexport const useToggle = (initialValue = false): [boolean, (nextValue?: boolean) => void] => {\n  const [value, setValue] = useState(initialValue);\n\n  const toggle = useCallback((nextValue?: boolean) => {\n    if (typeof nextValue !== 'undefined') {\n      return setValue(nextValue);\n    }\n    return setValue(v => !v)\n  }, []);\n\n  return [value, toggle];\n}\n\n\n\nexport default useToggle;\n","import { createBrowserHistory } from \"history\";\n\nexport const history = createBrowserHistory({ basename: process.env.PUBLIC_URL });\n\nexport default history;","import { createSlice, createAsyncThunk, PayloadAction, createAction } from '@reduxjs/toolkit'\nimport ky from 'ky';\nimport history from \"appHistory\";\n\ninterface AuthState {\n  token: null | string;\n  userId: null | string;\n  error: any;\n  isLoading: boolean;\n}\n\ninterface AuthResponse {\n  idToken: string;\n  displayName: string;\n  kind: string;\n  email: string;\n  refreshToken: string;\n  expiresIn: string;\n  localId: string;\n  registered: boolean;\n}\n\ninterface AuthPayload {\n  email: string,\n  password: string;\n}\n\ntype AutoSignIn = {\n  token: string;\n  userId: string;\n};\n\nconst initialState: AuthState = {\n  token: null,\n  userId: null,\n  error: null,\n  isLoading: false,\n}\n\n\n\nexport const authenticate = createAsyncThunk<AuthResponse, AuthPayload>('auth/authenticate',\n  async (payload, { rejectWithValue }) => {\n    try {\n      const response: AuthResponse = await ky.post(process.env.REACT_APP_AUTH_BASEURL, {\n        json: {\n          ...payload,\n          returnSecureToken: true\n        }\n      }).json();\n      // TODO: Add redirectRoute when starting working on other mages than /minifigs\n      history.push('/minifigs');\n      return response\n    } catch (err: any) {\n      console.error('Unable to authenticate', err);\n      return rejectWithValue(err.response.data)\n    }\n\n  }\n)\n\n// Empty action that get intercepted by the middleware\nexport const tryAutoSignIn = createAction('auth/tryAutoSignIn')\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: () => initialState,\n    autoSignIn: (state, action: PayloadAction<AutoSignIn>) => {\n      const { userId, token } = action.payload;\n      state.token = token;\n      state.userId = userId;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(authenticate.pending, (state) => {\n      state.isLoading = true;\n    })\n    builder.addCase(authenticate.fulfilled, (state, { payload }) => {\n      state.isLoading = false;\n      state.token = payload.idToken;\n      state.userId = payload.localId;\n    })\n    builder.addCase(authenticate.rejected, (state, { payload }) => {\n      state.isLoading = false;\n      state.error = payload;\n    })\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const { logout, autoSignIn } = authSlice.actions\n\nexport default authSlice.reducer","import { RootState } from \"../index\"\n\nexport const selectIsAuthenticate = (state: RootState) => !!state.auth.token;\n\nexport const selectAuthIsLoading = (state: RootState) => state.auth.isLoading;","import authReducer from './authSlice';\n\nexport * from './authSelectors';\nexport * from './authSlice';\nexport * from './authMiddleware';\n\nexport default authReducer;","import BurgerMenu from './BurgerMenu';\nexport default BurgerMenu;","import React, { useCallback } from \"react\";\nimport { Menu, MenuItem, IconButton } from \"@mui/material\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport { Link, useLocation } from \"react-router-dom\";\n\ninterface BurgerMenuProps {\n  isAuthenticate: boolean;\n  logoutHandler: () => void;\n}\n\nexport const BurgerMenu: React.FC<BurgerMenuProps> = ({\n  isAuthenticate,\n  logoutHandler,\n}) => {\n  const { pathname } = useLocation();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = useCallback(() => setAnchorEl(null), []);\n\n  const handleLogout = useCallback(() => {\n    handleClose();\n    logoutHandler();\n  }, [logoutHandler, handleClose]);\n\n  return (\n    <>\n      <IconButton\n        id=\"application-menu-icon\"\n        aria-label=\"application menu icon\"\n        aria-controls={open ? \"basic-menu\" : undefined}\n        aria-haspopup=\"true\"\n        aria-expanded={open ? \"true\" : undefined}\n        onClick={handleMenu}\n        color=\"inherit\"\n      >\n        <MenuIcon />\n      </IconButton>\n      <Menu\n        id=\"menu-header\"\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        sx={{\n          display: \"flex\",\n          padding: \"0 0.5rem\",\n          \"& .Mui-selected\": {\n            color: 'primary.main',\n            fontWeight: 'fontWeightBold',\n          },\n        }}\n        MenuListProps={{\n          \"aria-labelledby\": \"application-menu-icon\",\n        }}\n      >\n        <MenuItem\n          component={Link}\n          to=\"/minifigs\"\n          selected={pathname === \"/minifigs\"}\n          onClick={handleClose}\n        >\n          Minifigs\n        </MenuItem>\n        {isAuthenticate ? (\n          <MenuItem onClick={handleLogout}>Logout</MenuItem>\n        ) : (\n          <MenuItem\n            component={Link}\n            to=\"/auth\"\n            selected={pathname === \"/auth\"}\n            onClick={handleClose}\n          >\n            Authentication\n          </MenuItem>\n        )}\n      </Menu>\n    </>\n  );\n};\n\nexport default BurgerMenu;\n","import React from \"react\";\nimport Tabs from \"@mui/material/Tabs\";\nimport Tab from \"@mui/material/Tab\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst a11yProps = (index: any) => ({\n  id: `tab-nav-${index}`,\n  \"aria-controls\": `tab-nav-${index}`,\n});\n\ninterface TabMenuProps {\n  isAuthenticate: boolean;\n  logoutHandler: () => void;\n}\n\nexport const TabMenu: React.FC<TabMenuProps> = ({\n  isAuthenticate,\n  logoutHandler,\n}) => {\n  const { pathname } = useLocation();\n\n  return (\n    <Tabs value={pathname} aria-label=\"Tab Navigation menu\">\n      <Tab\n        data-testid=\"minifigs\"\n        label=\"Minifigs\"\n        value=\"/minifigs\"\n        component={Link}\n        to=\"/minifigs\"\n        {...a11yProps(0)}\n      />\n      {isAuthenticate ? (\n        <Tab label=\"Logout\" onClick={logoutHandler} />\n      ) : (\n        <Tab\n          label=\"Authentication\"\n          component={Link}\n          to=\"/auth\"\n          value=\"/auth\"\n          {...a11yProps(1)}\n        />\n      )}\n    </Tabs>\n  );\n};\n\nexport default TabMenu;\n","import TabMenu from './TabMenu';\nexport default TabMenu;","import Header from './Header';\nexport default Header;","import React, { useCallback } from \"react\";\nimport { AppBar, Toolbar, Typography, Hidden } from \"@mui/material\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"hooks\";\nimport { logout, selectIsAuthenticate } from \"store/auth\";\nimport BurgerMenu from \"./BurgerMenu\";\nimport TabMenu from \"./TabMenu\";\n\nexport const Header = () => {\n  const isAuthenticate = useAppSelector(selectIsAuthenticate);\n  const dispatch = useAppDispatch();\n  const { push } = useHistory();\n\n  const logoutHandler = useCallback(() => {\n    dispatch(logout());\n    push(\"/auth\");\n  }, [dispatch, push]);\n\n  return (\n    <AppBar position=\"sticky\">\n      <Toolbar variant=\"dense\">\n        <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n          Lego SW\n          <Hidden smDown> Collection Manager</Hidden>\n        </Typography>\n        <Hidden mdUp>\n          <BurgerMenu\n            isAuthenticate={isAuthenticate}\n            logoutHandler={logoutHandler}\n          />\n        </Hidden>\n        <Hidden smDown>\n          <TabMenu\n            isAuthenticate={isAuthenticate}\n            logoutHandler={logoutHandler}\n          />\n        </Hidden>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import Loader from './Loader';\nexport default Loader;","import React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Typography from \"@mui/material/Typography\";\n\n\nexport const Loader = () => (\n  <Grid\n    container\n    justifyContent=\"center\"\n    alignItems=\"center\"\n    direction=\"column\"\n    sx={{\n      position: 'fixed',\n      height: \"calc(100vh - 48px)\"\n    }}\n  >\n    <CircularProgress size={200} thickness={2} disableShrink />\n    <Typography variant=\"h5\" color=\"primary\">\n      Loading...\n    </Typography>\n  </Grid>\n);\n\nexport default Loader;\n","import ky from 'ky';\n\nconst api = ky.create({ prefixUrl: process.env.REACT_APP_API_BASEURL })\n\nexport default api;","import api from \"api\";\nimport { MinifigsFilters, MinifigsList, TagOrCharacNameList } from \"interfaces/minifigs\";\n\n\n/**\n * Return the statistics from the MinifigsList (totalNumber, numberOwned and percentageOwned)\n * @param  {MinifigsList} minifigsList\n */\nexport const getStatistics = (minifigsList: MinifigsList) => {\n  const totalNumber = minifigsList.length;\n  const numberOwned = minifigsList.filter(minifig => minifig.possessed).length;\n  const percentageOwned = Math.round(numberOwned / totalNumber * 10000) / 100;\n  return { totalNumber, numberOwned, percentageOwned }\n}\n/**\n * Return the tags and character names alphabetically sorted lists from a MinifigsList\n * @param  {MinifigsList} minifigsList\n */\nexport const getTagsAndCharacNames = (minifigsList: MinifigsList) => {\n  const tagsAndCharacNamesLists = minifigsList.reduce<Record<'tags' | 'characNames', TagOrCharacNameList>>((accumulator, currentMinifig) => {\n    const { characterName, tags } = currentMinifig;\n\n    const characNameIndex = accumulator.characNames.findIndex(el => el.name === characterName)\n    // If it is a new character name we had it to the accumulator\n    if (characNameIndex === -1) {\n      accumulator.characNames.push({ name: characterName, amount: 1 });\n    } else { // Or else we increment the amount of the existing one\n      accumulator.characNames[characNameIndex].amount++;\n    }\n\n    if (tags && tags.length) {\n      tags.forEach(tag => {\n        const tagIndex = accumulator.tags.findIndex(el => el.name === tag);\n        // If it is a new tag we had it to the accumulator\n        if (tagIndex === -1) {\n          accumulator.tags.push({ name: tag, amount: 1 });\n        } else { // Or else we increment the amount of the existing one\n          accumulator.tags[tagIndex].amount++;\n        }\n      })\n    }\n\n    return accumulator\n  }, { tags: [], characNames: [] })\n  tagsAndCharacNamesLists.tags.sort((a, b) => (a.name > b.name) ? 1 : -1);\n  tagsAndCharacNamesLists.characNames.sort((a, b) => (a.name > b.name) ? 1 : -1);\n  return tagsAndCharacNamesLists;\n}\n/**\n * Return the filtered list of minifigs\n * @param  {MinifigsList|null} list\n * @param  {MinifigsFilters} filters\n */\nexport const getFilteredMinifigsList = (list: MinifigsList | null, filters: MinifigsFilters) => list?.filter(minifig => {\n  const { show, characName, tag } = filters;\n  const { possessed, tags, characterName } = minifig;\n  const showFiltered = show === \"all\" ||\n    (show === \"owned\" && possessed) ||\n    (show === \"missing\" && !possessed);\n  const hasFilterTag = tag ? tags?.includes(tag) : true;\n  const hasFilterCharacName = characName ? characName === characterName : true;\n  return showFiltered && hasFilterCharacName && hasFilterTag\n})\n\nexport const restUpdateMinifigsList = async (updatedMinifigsList: MinifigsList, token: string) => await api.put(`minifigs.json?auth=${token}`, {\n  json: updatedMinifigsList,\n}).json<MinifigsList>();","export const findIndexById = (array: Partial<{ id: string }>[] | null | undefined, idToFind: string) => array?.findIndex(({ id }) => id === idToFind);","import { createSlice, createAsyncThunk, PayloadAction, isPending, isFulfilled, isRejectedWithValue } from '@reduxjs/toolkit'\nimport api from 'api';\nimport { TagOrCharacNameList, MinifigsList, MinifigsFilters, MinifigsPagination, Minifig } from 'interfaces/minifigs';\nimport { RootState } from 'store';\nimport { getFilteredMinifigsList, getTagsAndCharacNames, restUpdateMinifigsList } from 'utils';\nimport { findIndexById } from 'utils/array';\n\ninterface MinifigsState {\n  list: null | MinifigsList;\n  tags: null | TagOrCharacNameList;\n  characNames: null | TagOrCharacNameList;\n  filters: MinifigsFilters;\n  pagination: MinifigsPagination;\n  isLoading: boolean;\n  error: any;\n}\n\nconst initialState: MinifigsState = {\n  list: null,\n  tags: null,\n  characNames: null,\n  isLoading: false,\n  error: null,\n  filters: {\n    show: 'all',\n    characName: null,\n    tag: null\n  },\n  pagination: {\n    activePage: 0,\n    total: 0,\n    nbPerPage: 50\n  }\n}\n\nexport const fetchMinifigs = createAsyncThunk<MinifigsList>('minifigs/fetchMinifigs',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await api.get('minifigs.json').json<MinifigsList>();\n      return response;\n    } catch (err: any) {\n      console.error('Unable to fetch minifigs', err);\n      return rejectWithValue(err.message)\n    }\n\n  }\n)\n\nexport const toggleMinifigOwned = createAsyncThunk<string, string, { state: RootState }>('minifigs/toggleMinifigOwned', async (minifigId, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  if (!token) return minifigId;\n\n  const { list } = state.minifigs;\n  const indexOfMinifig = findIndexById(list, minifigId)\n  if (indexOfMinifig === undefined || indexOfMinifig === -1 || !list) return rejectWithValue('No minifig with that id');\n\n  try {\n    await api.patch(`minifigs/${indexOfMinifig}.json?auth=${token}`, {\n      json: {\n        possessed: !list[indexOfMinifig].possessed\n      }\n    })\n    return minifigId;\n  }\n  catch (err: any) {\n    console.error('Unable to toggle minifig owned', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nexport const editMinifig = createAsyncThunk<MinifigsList, Minifig, { state: RootState }>('minifigs/editMinifig', async (minifig, { getState, rejectWithValue, }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n  if (!Array.isArray(list)) return rejectWithValue('No minifigs list in the store');\n\n  const updatedMinifigsList = list.map((existingMinifig) => existingMinifig.id === minifig.id ? minifig : existingMinifig);\n\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err: any) {\n    console.error('Unable to edit the minifig', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nexport const addMinifig = createAsyncThunk<MinifigsList, Minifig, { state: RootState }>('minifigs/addMinifig', async (minifig, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n  if (!Array.isArray(list)) return rejectWithValue('No minifigs list in the store');\n\n  const updatedMinifigsList = list.concat(minifig).sort((a, b) => (a.id > b.id) ? 1 : -1);\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err: any) {\n    console.error('Unable to add the minifig', err);\n    return rejectWithValue(err.message)\n\n  }\n})\n\nexport const deleteMinifig = createAsyncThunk<MinifigsList, string, { state: RootState }>('minifigs/deleteMinifig', async (minifigId, { getState, rejectWithValue }) => {\n  const state = getState();\n  const { token } = state.auth;\n  const { list } = state.minifigs;\n\n  const indexOfMinifig = findIndexById(list, minifigId)\n  if (indexOfMinifig === undefined || indexOfMinifig === -1 || !list) return rejectWithValue('No minifig with that id');\n\n  const updatedMinifigsList = list.filter(({ id }) => id !== minifigId);\n  if (!token) return updatedMinifigsList;\n\n  try {\n    return await restUpdateMinifigsList(updatedMinifigsList, token);\n  }\n  catch (err: any) {\n    console.error('Unable to delete minifig', err);\n    return rejectWithValue(err.message)\n  }\n})\n\nconst isAPendingAction = isPending(fetchMinifigs, toggleMinifigOwned, editMinifig, addMinifig, deleteMinifig)\nconst isAFulfilledAction = isFulfilled(fetchMinifigs, toggleMinifigOwned, editMinifig, addMinifig, deleteMinifig)\nconst isARejectedWithValueAction = isRejectedWithValue(\n  fetchMinifigs,\n  toggleMinifigOwned,\n  editMinifig,\n  addMinifig,\n  deleteMinifig\n)\n\nexport const minifigsSlice = createSlice({\n  name: 'minifigs',\n  initialState,\n  reducers: {\n    setMinifigsFilters: (state, action: PayloadAction<Partial<MinifigsFilters>>) => {\n      const updatedFilter = { ...state.filters, ...action.payload }\n      const filteredList = getFilteredMinifigsList(state.list, updatedFilter);\n      state.filters = updatedFilter;\n      state.pagination.activePage = 0;\n      state.pagination.total = filteredList?.length || 0;\n    },\n    resetMinifigsFilters: state => {\n      state.filters = { show: 'all', tag: null, characName: null }\n      state.pagination.total = state.list?.length || 0;\n      state.pagination.activePage = 0;\n    },\n    setMinifigsPagination: (state, action: PayloadAction<MinifigsPagination>) => {\n      state.pagination = action.payload\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(toggleMinifigOwned.fulfilled, (state, { payload: minifigId }) => {\n      const index = state.list?.findIndex(({ id }) => id === minifigId)\n      if (index !== -1 && state.list && index !== undefined)\n        state.list[index].possessed = !state.list[index].possessed\n    })\n    builder.addMatcher(isFulfilled(addMinifig, fetchMinifigs, deleteMinifig, editMinifig), (state, { payload: list }) => {\n      const { tags, characNames } = getTagsAndCharacNames(list);\n      state.list = list;\n      state.pagination.activePage = 0;\n      state.pagination.total = list.length;\n      state.tags = tags;\n      state.characNames = characNames;\n      state.filters.characName = characNames.map(({ name }) => name).includes(state.filters.characName || '') ? state.filters.characName : null;\n      state.filters.tag = tags.map(({ name }) => name).includes(state.filters.tag || '') ? state.filters.tag : null\n    })\n    builder.addMatcher(isAPendingAction, (state) => {\n      state.isLoading = true;\n    })\n    builder.addMatcher(isAFulfilledAction, (state) => {\n      state.isLoading = false;\n    })\n    builder.addMatcher(isARejectedWithValueAction, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const { setMinifigsFilters, resetMinifigsFilters, setMinifigsPagination } = minifigsSlice.actions\n\nexport default minifigsSlice.reducer\n","import { getFilteredMinifigsList } from \"utils\";\nimport { RootState } from \"../index\"\n\nexport const selectMinifigsList = (state: RootState) => state.minifigs.list;\nexport const selectTagsAndCharacNames = (state: RootState) => ({\n  tags: state.minifigs.tags,\n  characNames: state.minifigs.characNames\n});\nexport const selectMinifigsFilters = (state: RootState) => state.minifigs.filters;\n\nexport const selectMinifigsPagination = (state: RootState) => state.minifigs.pagination;\n\nexport const selectMinifigsIsLoading = (state: RootState) => state.minifigs.isLoading;\n\nexport const selectPaginatedMinifigsList = (state: RootState) => {\n  const { nbPerPage, activePage } = state.minifigs.pagination;\n  const filteredList = getFilteredMinifigsList(state.minifigs.list, state.minifigs.filters);\n  const begin = activePage * nbPerPage;\n  const end = begin + nbPerPage;\n  const paginatedList = filteredList?.slice(begin, end);\n  return paginatedList;\n}","import minifigsReducer from './minifigsSlice';\n\nexport * from './minifigsSelectors';\nexport * from './minifigsSlice';\n\nexport default minifigsReducer;","import MinifigsPagination from './MinifigsPagination';\nexport default MinifigsPagination;","import React, { useCallback } from \"react\";\nimport TablePagination from \"@mui/material/TablePagination\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  selectMinifigsPagination,\n  setMinifigsPagination,\n} from \"store/minifigs\";\n\nexport const MinifigsPagination: React.FC = () => {\n  const pagination = useAppSelector(selectMinifigsPagination);\n  const dispatch = useAppDispatch();\n  const { activePage, nbPerPage, total } = pagination;\n\n  const getLabelDisplayRows = useCallback(\n    ({ from, to, count }) => {\n      if (total <= nbPerPage) return `${from} - ${to}`;\n      return `${from} - ${to} of ${count}`;\n    },\n    [nbPerPage, total]\n  );\n\n  return (\n    <TablePagination\n      data-testid=\"minifigs-pagination\"\n      count={total}\n      page={activePage}\n      component=\"div\"\n      labelRowsPerPage=\"\"\n      SelectProps={{\n        \"aria-label\": \"Minifigs per page\",\n        //@ts-expect-error\n        \"data-testid\": \"minifigs-pagination-select\",\n      }}\n      rowsPerPageOptions={[\n        { value: 25, label: \"25/page\" },\n        { value: 50, label: \"50/page\" },\n        { value: 100, label: \"100/page\" },\n        { value: 200, label: \"200/page\" },\n      ]}\n      labelDisplayedRows={getLabelDisplayRows}\n      rowsPerPage={nbPerPage}\n      onPageChange={(_e, newPage) => {\n        dispatch(setMinifigsPagination({ ...pagination, activePage: newPage }));\n      }}\n      onRowsPerPageChange={(e) => {\n        const newNbPerPage = parseInt(e.target.value, 10);\n        dispatch(\n          setMinifigsPagination({\n            ...pagination,\n            nbPerPage: newNbPerPage,\n            activePage: 0,\n          })\n        );\n      }}\n      sx={{\n        '& .MuiTablePagination-spacer': {\n          display: \"none\",\n          flex: \"none\"\n        },\n        '& .MuiTablePagination-toolbar': {\n          justifyContent: \"center\"\n        },\n      }}\n    />\n  );\n};\n\nexport default MinifigsPagination;\n","import React, { useCallback } from \"react\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Chip from \"@mui/material/Chip\";\nimport Divider from \"@mui/material/Divider\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport { selectMinifigsFilters, setMinifigsFilters } from \"store/minifigs\";\nimport { styled } from \"@mui/material\";\n\nexport type NameAndTagsProps = Pick<Minifig, \"tags\" | \"characterName\">;\n\nconst StyledChip = styled(Chip)(({ theme }) => ({\n  margin: theme.spacing(0.5),\n  borderRadius: \"12px\",\n  height: \"auto\",\n  padding: `${theme.spacing(0.75)} 0`,\n  maxWidth: `calc(100% - ${theme.spacing(1)})`,\n  \"& .MuiChip-label\": {\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    display: \"block\",\n  },\n  \"& .MuiChip-deleteIcon\": {\n    height: theme.spacing(1.4),\n    width: theme.spacing(1.4),\n  },\n}));\n\n\nexport const NameAndTags: React.FC<NameAndTagsProps> = ({\n  tags,\n  characterName,\n}) => {\n  const filters = useAppSelector(selectMinifigsFilters);\n  const dispatch = useAppDispatch();\n\n  const characNameHandler = useCallback(\n    (characName: string | null) => {\n      dispatch(setMinifigsFilters({ characName }));\n    },\n    [dispatch]\n  );\n\n  const tagHandler = useCallback(\n    (tag: string | null) => {\n      dispatch(setMinifigsFilters({ tag }));\n    },\n    [dispatch]\n  );\n\n  return (\n    <>\n      <StyledChip\n        label={characterName}\n        data-testid=\"character-name-chip\"\n        clickable={characterName !== filters.characName}\n        color={characterName === filters.characName ? \"primary\" : \"default\"}\n        onClick={() => characNameHandler(characterName)}\n        onDelete={\n          characterName === filters.characName\n            ? () => characNameHandler(null)\n            : undefined\n        }\n      />\n      {Array.isArray(tags) && tags.length > 0 && (\n        <Divider variant=\"fullWidth\" />\n      )}\n      {tags?.map((tag) => (\n        <StyledChip\n          key={`${characterName}-${tag}`}\n          data-testid={`tag-${tag}-chip`}\n          label={tag}\n          clickable={tag !== filters.tag}\n          color={tag === filters.tag ? \"primary\" : \"default\"}\n          onClick={() => tagHandler(tag)}\n          onDelete={tag === filters.tag ? () => tagHandler(null) : undefined}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default NameAndTags;\n","import NameAndTags from './NameAndTags';\nexport default NameAndTags;","import RadioButtons from './RadioButtons';\nexport default RadioButtons;","import React from \"react\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\nimport RadioGroup from \"@mui/material/RadioGroup\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Radio from \"@mui/material/Radio\";\nimport { RadioButtonsProps } from \"../interface\";\n\nexport const RadioButtons = React.forwardRef<any, RadioButtonsProps>(\n  ({ value, label, options, row, ...props }, ref) => (\n    <FormControl>\n      <FormLabel id={label}>{label}</FormLabel>\n      <RadioGroup\n        ref={ref}\n        row={row}\n        aria-labelledby={label}\n        name={label}\n        value={value}\n        {...props}\n        // onChange={(_e, value) => changeHandler(value)}\n      >\n        {options.map((option) => (\n          <FormControlLabel\n            sx={{ textTransform:  'capitalize' }}\n            key={option}\n            value={option}\n            control={<Radio />}\n            label={option}\n          />\n        ))}\n      </RadioGroup>\n    </FormControl>\n  )\n);\n\nexport default RadioButtons;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport Autocomplete, {\n  createFilterOptions,\n} from '@mui/material/Autocomplete';\nimport TextField from \"@mui/material/TextField\";\nimport { AutoCompleteProps, AutoCompleteOption } from \"../interface\";\n\nconst filter = createFilterOptions<AutoCompleteOption>();\n\n// TODO: Manage case sensitive in filters and treatment\n\nexport const AutoComplete = React.forwardRef<any, AutoCompleteProps>(\n  (\n    {\n      label,\n      value,\n      options,\n      multiple,\n      creatable,\n      placeholder,\n      muiProps,\n      onChange,\n    },\n    ref\n  ) => {\n    const [optionValue, setOptionValue] = useState<\n      AutoCompleteOption | AutoCompleteOption[] | null | undefined\n    >(multiple ? [] : null);\n\n    useEffect(() => {\n      let newValue = null;\n      if (Array.isArray(value) && multiple && !creatable) {\n        newValue = options.filter((option) => value.includes(option.value));\n      }\n      if (Array.isArray(value) && multiple && creatable) {\n        newValue = value.map((value) => ({\n          value,\n          label: value,\n          added: !options.map((option) => option.value).includes(value),\n        }));\n      }\n      if (value && !Array.isArray(value) && !multiple) {\n        newValue = options.find((option) => option.value === value);\n        if (newValue === undefined && creatable) {\n          newValue = {\n            label: value,\n            value,\n            added: true,\n          };\n        }\n        if (newValue === undefined && !creatable) {\n          newValue = null;\n        }\n      }\n      setOptionValue(newValue);\n    }, [value, options, multiple, creatable]);\n\n    const onChangeHandler = useCallback(\n      (newValue: AutoCompleteOption | AutoCompleteOption[] | null) => {\n        setOptionValue(newValue);\n        if (Array.isArray(newValue)) {\n          // @ts-ignore\n          onChange(newValue.map((option) => option.value));\n        } else {\n          // @ts-ignore\n          onChange(newValue ? newValue.value : null);\n        }\n      },\n      [setOptionValue, onChange]\n    );\n\n    return (\n      <Autocomplete\n        id={label}\n        multiple={!!multiple}\n        options={options}\n        autoHighlight\n        freeSolo={!!creatable}\n        openOnFocus\n        value={optionValue}\n        filterOptions={(options, params) => {\n          const filtered = filter(options, params);\n          const trimedInputValue = params.inputValue.trim()\n          // Suggest the creation of a new value only if it does not exist in the options or newly created values\n          if (\n            trimedInputValue !== \"\" &&\n            creatable &&\n            ((Array.isArray(optionValue) &&\n              !optionValue.find(\n                (option) => option.value === trimedInputValue\n              ) &&\n              !options.find((option) => option.value === trimedInputValue)) ||\n              !Array.isArray(optionValue))\n          ) {\n            filtered.push({\n              value: trimedInputValue,\n              label: `Add \"${trimedInputValue}\"`,\n              added: true,\n            });\n          }\n          return filtered;\n        }}\n        // isOptionEqualToValue={(option, value) => {\n        //   if (value?.added) {\n        //     return false;\n        //   }\n        //   return option.value === value?.value;\n        // }}\n        getOptionLabel={(option: AutoCompleteOption) => option.label}\n        onChange={(_e, value: any) => {\n          onChangeHandler(value);\n        }}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            ref={ref}\n            variant=\"outlined\"\n            label={label}\n            placeholder={placeholder}\n            InputLabelProps={{ shrink: true }}\n            {...muiProps}\n          />\n        )}\n        // TODO: Let the popper/modal/popover on the body or place them in the root?\n        // PopperComponent={(props) => (\n        //   <Popper {...props} container={document.getElementById(\"root\")} />\n        // )}\n      />\n    );\n  }\n);\n\nexport default AutoComplete;\n","import AutoComplete from './AutoComplete';\nexport default AutoComplete;","import TextField from './TextField';\nexport default TextField;","import React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport { TextFieldProps } from \"../interface\";\n\nexport const CustomTextField = React.forwardRef<any, TextFieldProps>(\n  ({ muiProps, ...props }, ref) => (\n    <TextField\n      variant=\"outlined\"\n      ref={ref}\n      InputLabelProps={{ shrink: true }}\n      {...muiProps}\n      {...props}\n    />\n  )\n);\n\nexport default CustomTextField;\n","import Switch from './Switch';\nexport default Switch;","import React from \"react\";\nimport { SwitchProps } from \"../interface\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Switch from \"@mui/material/Switch\";\n\nexport const CustomSwitch = React.forwardRef<any, SwitchProps>(\n  ({ value, label, muiProps, onChange }, ref) => {\n    const switchElement = (\n      <Switch\n        ref={ref}\n        checked={value}\n        value={value}\n        color=\"primary\"\n        {...muiProps}\n        onChange={onChange}\n      />\n    );\n    if (label)\n      return (\n        <FormControlLabel\n          control={switchElement}\n          labelPlacement=\"start\"\n          label={label}\n        />\n      );\n    return switchElement;\n  }\n);\n\nexport default CustomSwitch;\n","import Inputs from './Inputs';\nexport default Inputs;","import React from \"react\";\nimport RadioButtons from \"./RadioButtons\";\nimport { InputsProps } from \"./interface\";\nimport AutoComplete from \"./AutoComplete\";\nimport TextField from \"./TextField\";\nimport Switch from \"./Switch\";\n\nexport const Inputs = React.forwardRef<any, InputsProps>((props, ref) => {\n  if (props.type === \"textfield\") {\n    const { type, ...passedProps } = props;\n    return <TextField {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"switch\") {\n    const { type, ...passedProps } = props;\n    return <Switch {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"autocomplete\") {\n    const { type, ...passedProps } = props;\n    return <AutoComplete {...passedProps} ref={ref} />;\n  }\n  if (props.type === \"radiobuttons\") {\n    const { type, ...passedProps } = props;\n    return <RadioButtons {...passedProps} ref={ref} />;\n  }\n\n  return <span>Input not supported</span>;\n});\n\nexport default Inputs;\n","import Button from './Button';\nexport default Button;","import React from \"react\";\nimport Button, { ButtonProps } from \"@mui/material/Button\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\ninterface CustomButtonProps extends ButtonProps {\n  isLoading?: boolean;\n}\n\nexport const CustomButton: React.FC<CustomButtonProps> = ({\n  isLoading,\n  children,\n  disabled,\n  ...props\n}) => {\n  return (\n    <Button disabled={disabled || isLoading} {...props}>\n      {children}\n      {isLoading && (\n        <CircularProgress sx={{ marginLeft: 1 }} size=\"1em\" thickness={3} />\n      )}\n    </Button>\n  );\n};\n\nexport default CustomButton;\n","import React, { useMemo } from \"react\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Grid from \"@mui/material/Grid\";\nimport { useForm, Controller, SubmitHandler } from \"react-hook-form\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Inputs from \"../inputs\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  addMinifig,\n  editMinifig,\n  selectMinifigsIsLoading,\n  selectMinifigsList,\n  selectTagsAndCharacNames,\n} from \"store/minifigs\";\nimport Button from \"../Button\";\n\nexport interface MinifigFormModalProps {\n  handleClose: () => void;\n  editMinifigData?: Partial<Minifig>;\n}\n\nexport const MinifigFormModal: React.FC<MinifigFormModalProps> = ({\n  handleClose,\n  editMinifigData,\n}) => {\n  const { tags, characNames } = useAppSelector(selectTagsAndCharacNames);\n  const minifigsList = useAppSelector(selectMinifigsList);\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n  const dispatch = useAppDispatch();\n  const {\n    control,\n    reset,\n    unregister,\n    handleSubmit,\n    formState: { isValid },\n  } = useForm<Minifig>({\n    defaultValues: editMinifigData || {\n      id: \"\",\n      name: \"\",\n      characterName: \"\",\n      tags: [],\n      possessed: false,\n    },\n    mode: \"onChange\",\n  });\n\n  const characNamesOptions = useMemo(\n    () =>\n      characNames?.map((characName) => ({\n        label: characName.name,\n        value: characName.name,\n      })) || [],\n    [characNames]\n  );\n\n  const tagsOptions = useMemo(\n    () =>\n      tags?.map((tag) => ({\n        label: tag.name,\n        value: tag.name,\n      })) || [],\n    [tags]\n  );\n\n  const minifigsListIds = useMemo(\n    () => minifigsList?.map((minifig) => minifig.id) || [],\n    [minifigsList]\n  );\n\n  const onClose = () => {\n    handleClose();\n    reset();\n    unregister();\n  };\n\n  const onSubmit: SubmitHandler<Minifig> = (data) => {\n    if (editMinifigData?.id) {\n      return dispatch(editMinifig(data));\n    }\n    return dispatch(addMinifig(data));\n  };\n\n  return (\n    <Dialog\n      open\n      onClose={onClose}\n      aria-labelledby=\"minifig-form-dialog\"\n      maxWidth=\"md\"\n      fullWidth\n    >\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <DialogTitle id=\"minifig-form-dialog\">\n          {editMinifigData?.id ? `Edit ${editMinifigData.id}` : \"Add a minifig\"}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid container direction=\"column\" spacing={2}>\n            <Grid item xs={12}>\n              <Controller\n                name=\"id\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                  pattern: {\n                    value: /^sw[0-9]{4}[abcds]?$/,\n                    message:\n                      \"This need to be a minifig reference (/^sw[0-9]{4}[abcds]?$/)\",\n                  },\n                  validate: (value) => {\n                    if (\n                      minifigsListIds.includes(value) &&\n                      value !== editMinifigData?.id\n                    ) {\n                      return \"This minifig already exists\";\n                    }\n                    return true;\n                  },\n                }}\n                render={({ field, fieldState }) => {\n                  return (\n                    <Inputs\n                      {...field}\n                      label=\"Id\"\n                      placeholder=\"Minifig id (ex: sw0001a)\"\n                      type=\"textfield\"\n                      muiProps={{\n                        disabled: !!editMinifigData?.id,\n                        error: fieldState.invalid,\n                        helperText: fieldState.error?.message,\n                        required: true,\n                        fullWidth: true,\n                      }}\n                    />\n                  );\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"name\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                }}\n                render={({ field, fieldState }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Name\"\n                    placeholder=\"Minifig name (ex: Battle Droid Tan with Back Plate)\"\n                    type=\"textfield\"\n                    muiProps={{\n                      error: fieldState.invalid,\n                      helperText: fieldState.error?.message,\n                      required: true,\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"characterName\"\n                control={control}\n                rules={{\n                  required: \"This field is required\",\n                }}\n                render={({ field, fieldState }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Character Name\"\n                    placeholder=\"Character name (ex: Battle Droid)\"\n                    type=\"autocomplete\"\n                    creatable\n                    options={characNamesOptions}\n                    muiProps={{\n                      error: fieldState.invalid,\n                      helperText: fieldState.error?.message,\n                      required: true,\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"tags\"\n                control={control}\n                render={({ field }) => (\n                  <Inputs\n                    {...field}\n                    label=\"Tags\"\n                    placeholder=\"Minifig tags (ex: Battle Droid, CIS, Droid)\"\n                    type=\"autocomplete\"\n                    creatable\n                    options={tagsOptions}\n                    multiple\n                    muiProps={{\n                      fullWidth: true,\n                    }}\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                name=\"possessed\"\n                control={control}\n                render={({ field }) => (\n                  <Inputs {...field} label=\"Possessed\" type=\"switch\" />\n                )}\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} color=\"primary\" disabled={isLoading}>\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            color=\"primary\"\n            variant=\"contained\"\n            aria-label=\"Submit\"\n            disabled={!isValid}\n            isLoading={isLoading}\n          >\n            Submit\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default MinifigFormModal;\n","import MinifigEdition from './MinifigEdition';\nexport default MinifigEdition;","import React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport Inputs from \"components/commons/inputs\";\nimport MinifigFormModal from \"components/commons/MinifigFormModal/MinifigFormModal\";\nimport { useAppDispatch, useAppSelector, useToggle } from \"hooks\";\nimport {\n  deleteMinifig,\n  selectMinifigsIsLoading,\n  toggleMinifigOwned,\n} from \"store/minifigs\";\nimport Button from \"components/commons/Button\";\n\nexport type MinifigEditionProps = Minifig;\n\nexport const MinifigEdition: React.FC<MinifigEditionProps> = (props) => {\n  const { possessed, id, characterName, tags } = props;\n  const duplicateProps = {characterName, tags}\n  const [isEditModalOpen, toggleEditModalOpen] = useToggle();\n  const [isDuplicateModalOpen, toggleDuplicateModalOpen] = useToggle();\n  const [isDeleteModalOpen, toggleDeleteModalOpen] = useToggle();\n\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n  const dispatch = useAppDispatch();\n  return (\n    <Grid\n      container\n      justifyContent=\"space-evenly\"\n      alignItems=\"center\"\n      sx={{paddingTop: 0.5}}\n    >\n      <Tooltip title=\"Switch possession\" aria-label=\"Switch possession tooltip\">\n        <span>\n          <Inputs\n            type=\"switch\"\n            value={possessed}\n            onChange={() => dispatch(toggleMinifigOwned(id))}\n            muiProps={{ disabled: isLoading }}\n          />\n        </span>\n      </Tooltip>\n      <Tooltip title=\"Edit\" aria-label=\"Edit tooltip\">\n        <IconButton onClick={() => toggleEditModalOpen()} arial-label=\"edit\">\n          <EditIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Duplicate character name and tags\" aria-label=\"Duplicate tooltip\">\n        <IconButton onClick={() => toggleDuplicateModalOpen()} arial-label=\"duplicate\">\n          <ContentCopyIcon />\n        </IconButton>\n      </Tooltip>\n      {(isEditModalOpen || isDuplicateModalOpen) && (\n        <MinifigFormModal\n          handleClose={() => isEditModalOpen? toggleEditModalOpen() : toggleDuplicateModalOpen()}\n          editMinifigData={isEditModalOpen ? props : duplicateProps}\n        />\n      )}\n      <Tooltip title=\"Delete\" aria-label=\"Delete tooltip\">\n        <IconButton\n          disabled={isLoading}\n          aria-label=\"delete\"\n          onClick={() => toggleDeleteModalOpen()}\n        >\n          <DeleteIcon />\n        </IconButton>\n      </Tooltip>\n      {isDeleteModalOpen && (\n        <Dialog\n          open\n          onClose={() => toggleDeleteModalOpen()}\n          aria-labelledby=\"minifig-delete-dialog\"\n          maxWidth=\"md\"\n        >\n          <DialogTitle id=\"minifig-delete-dialog\">\n            {`Are you sure you want to delete ${id}?`}\n          </DialogTitle>\n          <DialogActions>\n            <Button\n              onClick={() => toggleDeleteModalOpen()}\n              color=\"primary\"\n              disabled={isLoading}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"secondary\"\n              variant=\"contained\"\n              isLoading={isLoading}\n              onClick={() => dispatch(deleteMinifig(id))}\n            >\n              Confirm\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </Grid>\n  );\n};\n\nexport default MinifigEdition;\n","export default __webpack_public_path__ + \"static/media/brickset.cdd8ff5b.png\";","export default __webpack_public_path__ + \"static/media/bricklink.7488f58e.png\";","import LogoLink from './LogoLink';\nexport default LogoLink;","import React, { useMemo } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport bricksetLogo from \"assets/images/logo/brickset.png\";\nimport bricklinkLogo from \"assets/images/logo/bricklink.png\";\n\ntype LogoLinkProps = { id: string } & (\n  | { brickset: true; bricklink?: never }\n  | { brickset?: never; bricklink: true }\n) &\n  ({ minifig: true; set?: never } | { minifig?: never; set: true });\n\nexport const LogoLink: React.FC<LogoLinkProps> = ({\n  bricklink,\n  minifig,\n  id,\n}) => {\n  // const classes = useStyles();\n\n  // TODO: Test later but the cost of useMemo first render does not seem worth here\n  // const imageSrc = useMemo(\n  //   () => (bricklink ? bricklinkLogo : bricksetLogo),\n  //   [bricklink]\n  // );\n  // const alt = useMemo(\n  //   () => (bricklink ? \"bricklink-logo\" : \"brickset-logo\"),\n  //   [bricklink]\n  // );\n\n  const linkURL = useMemo(() => {\n    if (bricklink)\n      return `https://www.bricklink.com/v2/catalog/catalogitem.page?${\n        minifig ? \"M\" : \"S\"\n      }=${id}`;\n    else return `https://brickset.com/${minifig ? \"minifigs\" : \"sets\"}/${id}`;\n  }, [bricklink, minifig, id]);\n\n  return (\n    <IconButton\n      href={linkURL}\n      sx={{\n        \"& img\": {\n          height: \"2rem\",\n          width: \"2rem\",\n        },\n        margin: 0.5,\n        padding: 0.7\n      }}\n      >\n      <img\n        alt={bricklink ? \"bricklink-logo\" : \"brickset-logo\"}\n        src={bricklink ? bricklinkLogo : bricksetLogo}\n      />\n    </IconButton>\n  );\n};\n\nexport default LogoLink;\n","import React from \"react\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport Tooltip, { tooltipClasses, TooltipProps } from \"@mui/material/Tooltip\";\nimport { Minifig } from \"interfaces/minifigs\";\nimport NameAndTags from \"./NameAndTags\";\nimport MinifigEdition from \"./MinifigEdition\";\nimport LogoLink from \"components/commons/LogoLink\";\nimport { styled } from \"@mui/material/styles\";\n\nexport type MinifigCardProps = Minifig;\n\nconst StyledImg = styled('img')(() => ({\n  width: \"auto\",\n  maxWidth: \"90%\",\n  maxHeight: \"100%\",\n  // height: theme.spacing(25),\n}));\n\nconst CustomWidthTooltip = styled(({ className, ...props }: TooltipProps) => (\n  <Tooltip {...props} classes={{ popper: className }} />\n))({\n  [`& .${tooltipClasses.tooltip}`]: {\n    maxWidth: '15em',\n    textAlign: 'center'\n  },\n});\n\nexport const MinifigCard: React.FC<MinifigCardProps> = (props) => {\n  const { id, characterName, name, tags } = props;\n  return (\n    <Paper sx={{\n      display: \"flex\",\n      textAlign: \"center\",\n      margin: 1,\n      padding: 0.5,\n      boxSizing: \"border-box\",\n      height: (theme) => `calc(100% - ${theme.spacing(1)})`,\n      width: (theme) => `calc(100% - ${theme.spacing(1)})`\n    }}>\n      <Grid container direction=\"column\" justifyContent=\"space-between\">\n        <Grid item>\n          <CustomWidthTooltip title={name}>\n            <StyledImg\n              src={`https://img.bricklink.com/ItemImage/MN/0/${id}.png`}\n              alt={`${id}-bricklink-png`}\n            />\n          </CustomWidthTooltip>\n        </Grid>\n        <Grid item sx={{\n          width: 1,\n          '& .MuiDivider-root': {\n            width: (theme) => `calc(100% + ${theme.spacing(1)})`,\n            marginLeft: -0.5\n          }\n        }}>\n          <Typography sx={{textTransform: 'uppercase'}}>{id}</Typography>\n          <Divider variant=\"fullWidth\" />\n          <NameAndTags characterName={characterName} tags={tags} />\n          <Divider variant=\"fullWidth\" />\n          <LogoLink id={id} bricklink minifig />\n          <LogoLink id={id} brickset minifig />\n          <Divider variant=\"fullWidth\" />\n          <MinifigEdition {...props} />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MinifigCard;\n","import MinifigCard from './MinifigCard';\nexport default MinifigCard;","import MinifigsList from \"./MinifigsList\"\nexport default MinifigsList;","import React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport Box from \"@mui/material/Box\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport {\n  selectPaginatedMinifigsList,\n  resetMinifigsFilters,\n} from \"store/minifigs\";\nimport MinifigsPagination from \"./MinifigsPagination\";\nimport MinifigCard from \"./MinifigCard\";\n\n\nexport const MinifigsList = () => {\n  const paginatedMinifigsList = useAppSelector(selectPaginatedMinifigsList);\n  const dispatch = useAppDispatch();\n\n  if (!Array.isArray(paginatedMinifigsList)) return null;\n\n  if (paginatedMinifigsList.length === 0)\n    return (\n      <Grid\n        container\n        justifyContent=\"center\"\n        direction=\"column\"\n        alignItems=\"center\"\n        sx={{marginTop: 2}}\n      >\n        <Typography align=\"center\" variant=\"h6\">\n          There are no minifigs with those filters\n        </Typography>\n        <Button\n          variant=\"contained\"\n          onClick={() => dispatch(resetMinifigsFilters())}\n        >\n          Reset filters\n        </Button>\n      </Grid>\n    );\n\n  return (\n    <Box sx={{marginX: 2}}>\n      <MinifigsPagination />\n      <Grid container spacing={2}>\n        {paginatedMinifigsList.map((minifig) => (\n          <Grid item xs={6} sm={4} md={3} lg={2} key={minifig.id}>\n            <MinifigCard {...minifig} />\n          </Grid>\n        ))}\n      </Grid>\n      <MinifigsPagination />\n    </Box>\n  );\n};\n\nexport default MinifigsList;\n","import MinifigsFilters from './MinifigsFilters';\nexport default MinifigsFilters;","import React, { useMemo, useEffect } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Inputs from \"components/commons/inputs\";\nimport { useAppDispatch, useAppSelector } from \"hooks\";\nimport {\n  selectMinifigsFilters,\n  selectTagsAndCharacNames,\n  setMinifigsFilters,\n} from \"store/minifigs\";\nimport { useForm, Controller, useWatch } from \"react-hook-form\";\nimport { MinifigsFilters as MinifigsFiltersType } from \"interfaces/minifigs\";\nimport isEqual from \"fast-deep-equal\";\nimport usePrevious from \"hooks/usePrevious\";\n\nexport const MinifigsFilters: React.FC = () => {\n  const { tags, characNames } = useAppSelector(selectTagsAndCharacNames);\n  const dispatch = useAppDispatch();\n  const filters = useAppSelector(selectMinifigsFilters);\n  const previousFilters = usePrevious(filters);\n  const { control, reset } = useForm<MinifigsFiltersType>({\n    defaultValues: filters,\n  });\n  const filtersFormValues = useWatch({\n    control: control,\n    defaultValue: filters,\n  });\n  const previousFiltersFormValues = usePrevious(filtersFormValues);\n\n  useEffect(() => {\n    // If the filtersFormValues change and not the filters that means the form\n    // was changed so we set the store accordingly\n    if (\n      !isEqual(filters, filtersFormValues) &&\n      !isEqual(previousFiltersFormValues, filtersFormValues)\n    ) {\n      dispatch(setMinifigsFilters(filtersFormValues));\n    }\n  }, [dispatch, filtersFormValues, previousFiltersFormValues, filters]);\n\n  useEffect(() => {\n    // If the filters change and not the filtersFormValues that means the\n    // filters were reset in the store so we reset the form\n    if (\n      !isEqual(filters, previousFilters) &&\n      !isEqual(filters, filtersFormValues)\n    ) {\n      reset(filters);\n    }\n  }, [filters, previousFilters, filtersFormValues, reset]);\n\n  const characNamesOptions = useMemo(\n    () =>\n      characNames?.map((characName) => ({\n        label: `${characName.name} (${characName.amount})`,\n        value: characName.name,\n      })) || [],\n    [characNames]\n  );\n\n  const tagsOptions = useMemo(\n    () =>\n      tags?.map((tag) => ({\n        label: `${tag.name} (${tag.amount})`,\n        value: tag.name,\n      })) || [],\n    [tags]\n  );\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item>\n        <Controller\n          name=\"show\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Show\"\n              type=\"radiobuttons\"\n              row\n              options={[\"all\", \"owned\", \"missing\"]}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item>\n        <Controller\n          name=\"characName\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Character Name\"\n              type=\"autocomplete\"\n              placeholder=\"Filter by character name\"\n              options={characNamesOptions}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item>\n        <Controller\n          name=\"tag\"\n          control={control}\n          render={({ field }) => (\n            <Inputs\n              {...field}\n              label=\"Tag\"\n              type=\"autocomplete\"\n              placeholder=\"Filter by tag\"\n              options={tagsOptions}\n            />\n          )}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MinifigsFilters;\n","import MinifigsMisce from './MinifigsMisce';\nexport default MinifigsMisce;","import React from \"react\";\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\nimport Divider from \"@mui/material/Divider\";\nimport Button from \"@mui/material/Button\";\nimport AddIcon from \"@mui/icons-material/AddCircle\";\nimport CloudDownload from \"@mui/icons-material/CloudDownload\";\nimport MinifigFormModal from \"components/commons/MinifigFormModal/MinifigFormModal\";\nimport { useAppSelector, useToggle } from \"hooks\";\nimport { selectMinifigsList } from \"store/minifigs\";\nimport { getStatistics } from \"utils\";\n\nexport const MinifigsMisce: React.FC = () => {\n  const [addMinifigModalIsOpen, toggleAddMinifigModal] = useToggle(false);\n  const minifigsList = useAppSelector(selectMinifigsList);\n\n  const { totalNumber, numberOwned, percentageOwned } = getStatistics(\n    minifigsList || []\n  );\n\n  return (\n    <Grid container direction=\"column\" rowSpacing={3}>\n      <Grid item>\n        <Typography align=\"center\" variant=\"h6\" sx={{marginBottom: 1.5}}>\n          {`You owned ${numberOwned} of the ${totalNumber} minifigs in our database (${percentageOwned}%)`}\n        </Typography>\n      </Grid>\n      <Divider />\n      <Grid item>\n        <Grid container justifyContent=\"space-evenly\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => toggleAddMinifigModal()}\n            endIcon={<AddIcon />}\n          >\n            Add a minifig\n          </Button>\n          {addMinifigModalIsOpen && (\n            <MinifigFormModal\n              handleClose={() => toggleAddMinifigModal(false)}\n            />\n          )}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            endIcon={<CloudDownload />}\n            href={`data:text/json;charset=utf-8,${encodeURIComponent(\n              JSON.stringify(minifigsList)\n            )}`}\n            download=\"minifigsList.json\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Download minifigs\n          </Button>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default MinifigsMisce;\n","import React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Paper from \"@mui/material/Paper\";\nimport MinifigsFilters from \"./MinifigsFilters\";\nimport MinifigsMisce from \"./MinifigsMisce\";\nimport { styled } from \"@mui/material/styles\";\n\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(2),\n  margin: theme.spacing(2),\n  boxSizing: \"border-box\",\n  minHeight: `calc(100% - ${theme.spacing(4)})`,\n}));\n\n\nexport const MinifigsMenu: React.FC = () => (\n  <Grid container>\n    <Grid item xs={12} md={6}>\n      <StyledPaper >\n        <MinifigsMisce />\n      </StyledPaper>\n      </Grid>\n    <Grid item xs={12} md={6}>\n      <StyledPaper>\n        <MinifigsFilters />\n      </StyledPaper>\n    </Grid>\n  </Grid>\n  );\n\nexport default MinifigsMenu;\n","import MinifigsMenu from './MinifigsMenu';\nexport default MinifigsMenu;","import Minifigs from './Minifigs';\nexport default Minifigs;","import React, { useEffect } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"hooks/store\";\nimport Loader from \"components/commons/Loader\";\nimport {\n  selectMinifigsList,\n  fetchMinifigs,\n  selectMinifigsIsLoading,\n} from \"store/minifigs\";\nimport MinifigsList from \"./MinifigsList\";\nimport MinifigsMenu from \"./MinifigsMenu\";\nimport { Box } from \"@mui/material\";\n\nexport const Minifigs = () => {\n  const dispatch = useAppDispatch();\n  const minifigsList = useAppSelector(selectMinifigsList);\n  const isLoading = useAppSelector(selectMinifigsIsLoading);\n\n  useEffect(() => {\n    !minifigsList && dispatch(fetchMinifigs());\n  }, [minifigsList, dispatch]);\n\n  if (!Array.isArray(minifigsList) && isLoading) return <Loader />;\n\n  return (\n    <Box>\n      <MinifigsMenu />\n      <MinifigsList />\n    </Box>\n  );\n};\n\nexport default Minifigs;\n","import React from \"react\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport { useForm, Controller, SubmitHandler } from \"react-hook-form\";\nimport Inputs from \"components/commons/inputs\";\nimport { useAppDispatch, useAppSelector, useToggle } from \"hooks\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Visibility from \"@mui/icons-material/Visibility\";\nimport VisibilityOff from \"@mui/icons-material/VisibilityOff\";\nimport Button from \"components/commons/Button\";\nimport { authenticate, selectAuthIsLoading } from \"store/auth\";\n\nexport type AuthInputs = {\n  email: string;\n  password: string;\n};\n\nexport const Auth: React.FC = () => {\n  const [showPassword, toggleShowPassword] = useToggle();\n  const dispatch = useAppDispatch();\n  const isLoading = useAppSelector(selectAuthIsLoading);\n  const {\n    control,\n    handleSubmit,\n    formState: { isValid },\n  } = useForm<AuthInputs>({\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n    mode: \"onChange\",\n  });\n\n  const onSubmit: SubmitHandler<AuthInputs> = (data) =>\n    dispatch(authenticate(data));\n\n  return (\n    <Paper\n      component=\"form\"\n      onSubmit={handleSubmit(onSubmit)}\n      sx={{\n        padding: 2,\n        margin: 2,\n        boxSizing: \"border-box\",\n        minHeight: (theme) => `calc(100% - ${theme.spacing(4)})`,\n      }}\n    >\n      <Grid container justifyContent=\"center\" spacing={2}>\n        <Grid item xs={12}>\n          <Controller\n            name=\"email\"\n            control={control}\n            rules={{\n              required: \"This field is required\",\n              pattern: {\n                value:\n                  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n                message: \"This need to be a valid email\",\n              },\n            }}\n            render={({ field, fieldState }) => {\n              return (\n                <Inputs\n                  {...field}\n                  label=\"Email\"\n                  id=\"email\"\n                  placeholder=\"Email@exemple.com\"\n                  type=\"textfield\"\n                  muiProps={{\n                    error: fieldState.invalid,\n                    helperText: fieldState.error?.message,\n                    required: true,\n                    fullWidth: true,\n                  }}\n                />\n              );\n            }}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Controller\n            name=\"password\"\n            control={control}\n            rules={{\n              required: \"This field is required\",\n            }}\n            render={({ field, fieldState }) => {\n              return (\n                <Inputs\n                  {...field}\n                  label=\"Password\"\n                  id=\"password\"\n                  type=\"textfield\"\n                  muiProps={{\n                    error: fieldState.invalid,\n                    helperText: fieldState.error?.message,\n                    required: true,\n                    fullWidth: true,\n                    type: showPassword ? \"text\" : \"password\",\n                    InputProps: {\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label=\"toggle password visibility\"\n                            onClick={() => toggleShowPassword()}\n                            onMouseDown={(e) => e.preventDefault()}\n                          >\n                            {showPassword ? <Visibility /> : <VisibilityOff />}\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    },\n                  }}\n                />\n              );\n            }}\n          />\n        </Grid>\n        <Button\n          type=\"submit\"\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={!isValid}\n          isLoading={isLoading}\n        >\n          Submit\n        </Button>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Auth;\n","import Auth from './Auth';\nexport default Auth;","import Routes from './Routes';\nexport default Routes;","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Minifigs from \"components/pages/Minifigs\";\nimport Auth from \"components/pages/Auth\";\n\nexport const Routes = () => (\n  <Switch>\n    <Route path=\"/minifigs\" component={Minifigs} />\n    <Route exact path=\"/auth\" component={Auth} />\n    {/* <Route exact path='/' /> */}\n    <Redirect to=\"/minifigs\" />\n  </Switch>\n);\n\nexport default Routes;\n","import React, { useEffect } from \"react\";\nimport Header from \"components/commons/Header\";\nimport Routes from \"./routes\";\nimport { useAppDispatch } from \"hooks\";\nimport { tryAutoSignIn } from \"store/auth\";\n\nconst App = () => {\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(tryAutoSignIn());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <Routes />\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import RouterProvider from \"./RouterProvider\";\nexport default RouterProvider;","import React from \"react\";\nimport { Router } from \"react-router-dom\";\nimport history from \"appHistory\";\n\nexport const RouterProvider: React.FC = ({ children }) => (\n  <Router history={history}>{children}</Router>\n);\n\nexport default RouterProvider;\n","import React from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport { CssBaseline } from \"@mui/material\";\n\n// declare module '@mui/material/styles' {\n//   interface Theme {\n//     status: {\n//       danger: string;\n//     };\n//   }\n//   // allow configuration using `createTheme`\n//   interface ThemeOptions {\n//     status?: {\n//       danger?: string;\n//     };\n//   }\n// }\nconst theme = createTheme({\n  spacing: (factor: number) => `${factor * 0.5}em`,\n  palette: {\n    mode: 'dark'\n  }\n  // TODO: Let the popper/modal/popover on the body or place them in the root?\n  // props: {\n  //   MuiPopover: {\n  //     container: document.getElementById(\"root\"),\n  //   },\n  // },\n});\n\nexport const CustomThemeProvider: React.FC = ({ children }) => (\n  <ThemeProvider theme={theme}><CssBaseline />{children}</ThemeProvider>\n);\n\nexport default CustomThemeProvider;\n","import ThemeProvider from \"./ThemeProvider\";\nexport default ThemeProvider;","import StoreProvider from \"./StoreProvider\";\nexport default StoreProvider;","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"store\";\n\nexport const StoreProvider: React.FC = ({ children }) => (\n  <Provider store={store}>{children}</Provider>\n);\n\nexport default StoreProvider;\n","import Providers from \"./Providers\";\nexport default Providers;","import React from \"react\";\nimport RouterProvider from \"./RouterProvider\";\nimport ThemeProvider from \"./ThemeProvider\";\nimport StoreProvider from \"./StoreProvider\";\n\nexport const Providers: React.FC = ({ children }) => (\n  <RouterProvider>\n    <StoreProvider>\n      <ThemeProvider>{children}</ThemeProvider>\n    </StoreProvider>\n  </RouterProvider>\n);\n\nexport default Providers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Providers from \"./providers\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}